

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>SDC Schema &#8212; SDC-Polyglot</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Schema/SDCSchema';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction to SDC" href="../Intro%20To%20SDC/Introduction.html" />
    <link rel="prev" title="26.1 Terms and Abbreviations" href="../GlossaryTLA.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="SDC-Polyglot - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="SDC-Polyglot - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    SDC-Polyglot
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../GlossaryTLA.html">26.1	Terms and Abbreviations</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">SDC Schema</a></li>


<li class="toctree-l1"><a class="reference internal" href="../Intro%20To%20SDC/Introduction.html">Introduction to SDC</a></li>

</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/IHE-SDC-WG/SDC-Polyglot" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/IHE-SDC-WG/SDC-Polyglot/issues/new?title=Issue%20on%20page%20%2FSchema/SDCSchema.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Schema/SDCSchema.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>SDC Schema</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">SDC Schema</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign">FormDesign</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-attributes">FormDesign Attributes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#static-attributes">Static Attributes:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-attributes">Instance Attributes:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-status-attributes">Instance Status Attributes</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdc-type-hiearchy">SDC Type Hiearchy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extensionbasetype-ebt">ExtensionBaseType (EBT)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extension">Extension</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#comment">Comment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#property">Property</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-property-elements"><code class="docutils literal notranslate"><span class="pre">FormDesign\Property</span></code> Elements</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#strongly-typed-property-values-for-special-purposes">Strongly-Typed Property Values for Special Purposes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#the-reporttext-property">The <code class="docutils literal notranslate"><span class="pre">reportText</span></code> Property</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#other-property-types">Other Property Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifiedextensiontype-iet">IdentifiedExtensionType (IET)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displayedtype">DisplayedType</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fdf-identifiers">FDF Identifiers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-properties-for-cap-electronic-cancer-protocols-ecps">FormDesign Properties for CAP electronic Cancer Protocols (eCPs)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sections">Sections</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#childitems">ChildItems</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#displayeditem">DisplayedItem</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blob">Blob</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codedvalue">CodedValue</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#questions">Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#question-response">Question-Response</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#repsponse-field">Repsponse Field</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#capturing-user-responses-in-questions">Capturing User Responses in Questions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#single-select-questions">Single Select Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#listitemresponsefield">ListItemResponseField</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indicating-an-answer-is-selected">Indicating an Answer is Selected</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-select-questions">Multi-select Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maxselections">maxSelections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mincard">minCard</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-only-question">Read Only Question</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#must-implement">Must Implement</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-list-items">Optional List Items</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-responses">Required Responses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#invisible-questions">Invisible Questions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditionally-required-cr-behaviors-and-reporting-from-the-def">Conditionally Required (CR) Behaviors and Reporting from the DEF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cap-ecp-note">CAP eCP Note</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-the-prefix-display-model">Use of the “?” Prefix Display Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omit-when-unanswered-owu">Omit When Unanswered (OWU)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omit-when-selected-ows">Omit When Selected (OWS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contiguity-of-listitem-lists">Contiguity of ListItem Lists</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#null-checkbox">Null Checkbox</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#single-checkbox">Single Checkbox</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-from-a-single-checkbox">Reporting from a Single Checkbox</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#locked-qas">Locked QAS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#flavours-of-unanswerable">Flavours of Unanswerable</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rules">Rules</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implied-activiation">Implied Activiation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#selection-disables-children-sdac">Selection Disables Children (SDAC)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdac-reporting-rules">SDAC Reporting Rules</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#selection-disables-siblings-sds">Selection Disables Siblings (SDS)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#repeating-sections">Repeating Sections</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-repeated-xfc-and-component-ids-with-monotonically-increasing-suffixes">Managing Repeated XFC and Component IDs with Monotonically Increasing Suffixes</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="sdc-schema">
<h1>SDC Schema<a class="headerlink" href="#sdc-schema" title="Permalink to this heading">#</a></h1>
<p>This chapter will describe different elements of the schema and how they can be used to represent forms. It will go into detail of elements in the SDC schema which are essential for any SDC Implementer to understand.</p>
<p>This section will describe a variety of form structure and XML Form Components (XFCs) that are used to represent form controls.</p>
<section id="formdesign">
<h2>FormDesign<a class="headerlink" href="#formdesign" title="Permalink to this heading">#</a></h2>
<p>The FDF root element (<code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> or <code class="docutils literal notranslate"><span class="pre">DemogFormDesign</span></code>) has a relatively large number of attributes. Some of the attributes address static FDF metadata inserted by the FDF designer. These are related to the identity of the FDF, such as the ID or the filename.</p>
<p><code class="docutils literal notranslate"><span class="pre">DemogFormDesign</span></code> is typically only used when there are multiple forms in an <code class="docutils literal notranslate"><span class="pre">SDCPackage</span></code> and the first form contains only demographic data. Otherwise for other forms, even if multiple inside an <code class="docutils literal notranslate"><span class="pre">SDCPackage</span></code> will use <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> to wrap the form.</p>
<p>Other attributes have values that are used to track form instance data used for tracking individual instances of forms that are instantiated for a specific purpose, e.g., entering data on a specific patient, during a specific encounter. Instance values are assigned by the Form Manager (FM), Form Filler (FF), and/or Form Receiver (FR).</p>
<p>For tracking purposes in some use cases, a Form Manager may assign some of instance identifiers before delivering an SDC form to the FF, and the FF must check for these pre-assigned instance-tracking values to avoid inappropriately overriding Form Manager-assigned values. In other cases, the instance tracking values are assigned by the FF, and included as part of the forms data set that is transmitted to the FR. If the FF detects that the Form has not assigned instance values to the instance attributes, then it may assign them itself. A FR should not alter the contents of a received FF form. However, a FR may log some or all of the instance attribute values in another data storage area, and may add its own logging information (e.g., time of receipt, hash value of XML contents, etc.), but these data should not be added to the FDF-R. In many cases, the FF is a “dumb” web page, and therefore performs none of the instance functions. In some cases, the FM and/or FF and/or FR may be part of the same institution, and this will help determine which actor(s) assign the instance values.</p>
<p>All instance attributes are optional in the XML, because they are not relevant in empty (not-instance) forms. Some static attributes are also optional. A FR should check for the correct assignment of all <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> attribute values as part of the validation process of a received form.</p>
<p>A third class of attributes are the instance status attributes. These are assigned by the FF based on information provided by the DEF user. The attributes address the type of changes in the DEF and finality of the submitted FDF-R.</p>
<section id="formdesign-attributes">
<h3>FormDesign Attributes<a class="headerlink" href="#formdesign-attributes" title="Permalink to this heading">#</a></h3>
<p>The following subsections describe the different attributes that may be present in the <FormDesign/> element.</p>
<section id="static-attributes">
<h4>Static Attributes:<a class="headerlink" href="#static-attributes" title="Permalink to this heading">#</a></h4>
<p>Values for these attributes are supplied by the form designer.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">formTitle</span></code>: Human readable title for display when choosing forms from list provided by a FM. The <code class="docutils literal notranslate"><span class="pre">formTitle</span></code> may be displayed at the top of the DEF.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">baseURI</span></code>: This parameter is required in the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> element but is optional in the XFCs. It identifies the organization that is responsible for designing and maintaining the FDF or XFC. It’s best to avoid using prefixes like “Error! Hyperlink reference not valid.” or “Error! Hyperlink reference not valid.” because these can occasionally cause XML validation errors when used in a URI-typed field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">basedOnURI</span></code>: URI used to identify the SDC form that the current FDF is based upon. In most cases, this should be a standard SDC form that is modified and/or extended by the current FDF. It’s best to avoid using prefixes like “Error! Hyperlink reference not valid.” or “Error! Hyperlink reference not valid.” because these can occasionally cause XML validation errors when used in a URI-typed field.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lineage</span></code>: A string identifier that is used to group multiple versions of a single form. The lineage is constant for all versions of a single kind of form. When appended to <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>, it can be used to retrieve all versions of one particular form. Example: lineage=”Lung.Bmk.227”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code>: A string that contains the version text for the current form. It is designed to be used in conjunction with <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> and <code class="docutils literal notranslate"><span class="pre">lineage</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ID</span></code>: In <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code>, the ID is used to uniquely identify an “empty” FDF (i.e., not an FDF-R, which contains user-entered data) from other FDF files that have different FDF content. Thus, a <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> ID is shared by all FDFs that have the same lineage and version. To represent this concept, we create the ID with the following formula: ID=lineage_version_sdcFDF. In other words, we concatenate the components lineage, version, and the text “sdcFDF” using “_” characters as separators. The suffix “sdcFDF” indicates that we are working with the FDF variant, not the FDF-R or the DE variant of SDC XML. From Example 5: FormDesign attributes and Properties:</p>
<ul>
<li><p>ID=”Lung.Bmk.227_1.001.011.RC1_sdcFDF”, we can clearly see how lineage and version values and the text “sdcFDF” are concatenated with “_”.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">filename</span></code>: The filename of the FDF when is saved to a file storage device (e.g., a disk or USB drive). The filename appears inside the FDF XML to help ensure the identity of the FDF content in case the saved filename (on a disk drive, etc.) has been changed for any reason.</p>
<ul>
<li><p>For FDF files without responses, the filename, one suggested format is lineage_version_sdcFDF.xml.</p></li>
<li><p>For assigning a filename to FDF-R instance documents, the following filename format may be considered: lineage_version_instance_instanceVersion_sdcFDFR.xml. <code class="docutils literal notranslate"><span class="pre">instance</span></code> is a GUID that identified the all versions of an instance FDF-R document. <code class="docutils literal notranslate"><span class="pre">instVer</span></code> is a version of the instance FDF-R. However, this format can become rather long, and thus short GUIDs or other formats may be considered.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">fullURI</span></code>: The full URI that uniquely identifies the current form. It is created by building up a REST-style query string from several components: <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>, <code class="docutils literal notranslate"><span class="pre">lineage</span></code>, <code class="docutils literal notranslate"><span class="pre">version</span></code>, and <code class="docutils literal notranslate"><span class="pre">doctype</span></code>, using a format of component=value pairs, as in the following example:</p>
<ul>
<li><p>fullURI=”_baseURI=<a class="reference external" href="http://cap.org">cap.org</a>&amp;_lineage=Lung.Bmk.227&amp;_version=1.001.011.RC1&amp;_docType=sdcFDF”.</p></li>
<li><p>Note that each bolded component name is preceded by an underscore “_” and most component names and values derive from a <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> attribute. The only <code class="docutils literal notranslate"><span class="pre">fullURI</span></code> component not present as an attribute in <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> is <code class="docutils literal notranslate"><span class="pre">docType</span></code>, which is always set to “sdcFDF” for FDFs, and is set to “sdcFDFR” for FDF-R documents, which contain data. Note that all “&amp;” (ampersand) symbols are escaped using the standard XML/HTML “&amp;” escape notation.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">prevVersionURI</span></code>: This URI is used to identify the SDC form that is the immediate previous version of the current FDF. The format is the same as <code class="docutils literal notranslate"><span class="pre">fullURI</span></code>. The primary role of this optional attribute is to allow automated comparisons between a current FDF and the immediate previous FDF version. This is often helpful when deciding whether to adopt a newer version of an FDF.</p></li>
</ul>
</section>
<section id="instance-attributes">
<h4>Instance Attributes:<a class="headerlink" href="#instance-attributes" title="Permalink to this heading">#</a></h4>
<p>These are attributes found in an FDF-R, which is created to contain user-entered data.  Included in brackets “[  ]” are the IHE actor(s) that are responsible for adding the correct value to each attribute.  Different use cases may redefine the requirements for each attribute.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">formInstanceURI</span></code>: Unique URI used to identify a unique instance of an FDF that contains user responses. It is used for tracking form responses across time and across multiple episodes of editing by end-users. This instance identifier does not change for each edit session of a form instance. The formInstanceURI is formatted similarly to the fullURI but includes an additional parameter: _instance= {some GUID}. A GUID (e.g., a1b2c3d4…) should be used to create the unique instance part of the URI. An example is:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FormDesign</span> <span class="n">formInstanceURI</span><span class="o">=</span><span class="s2">&quot;_baseURI=cap.org&amp;amp;_lineage=Lung.Bmk.227&amp;amp;_version=1.001.011.RC1&amp;amp;_docType=sdcFDF&amp;amp;_instance=Abc1dee2fg987&quot;</span><span class="o">/&gt;</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">formInstanceVersionURI</span></code>: Globally-unique URI used to identify a unique edit session of a form’s saved responses. It is used for tracking form responses across time and across multiple episodes of editing by end-users. This identifier must change for each edit/save session of a form instance (defined by formInstanceURI).<br />
The formInstanceVersionURI should be formatted similarly to the formInstanceVersionURI but must include an instance version identifier (_instVer) in the URI: _instVer={some version}. A suggested approach for the version information is the use of the release date/time for the new version, in W3C datetime format. In general, all transmitted versions should be archived by the FR or other storage system(s). It is also possible to create the URI from _instance and _instVer parameters alone, as long as the URI is able to uniquely identify and retrieve the instance and version of the globally unique FDF-R that was transmitted. An example is:</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FormDesign</span> <span class="n">formInstanceVersionURI</span><span class="o">=</span><span class="s2">&quot;_baseURI=cap.org&amp;amp;_lineage=Lung.Bmk.227&amp;amp;_version=1.001.011.RC1&amp;amp;_docType=sdcFDF&amp;amp;_instance=Abc1dee2fg987&amp;amp;_instVer=2019-07-16T19:20:30+01:00” /&gt;</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">formPreviousInstanceVersionURI</span></code>: Unique URI used to identify the immediate previous instance of a form that contains responses. The formInstanceVersionURI of the previous instance is copied into formPreviousInstanceVersionURI for the current editing session, and the formInstanceVersionURI receives a new version suffix before the form is saved/transmitted. This attribute is used for tracking responses from a single form instance across time and across multiple episodes of editing by end-users. The formInstanceVersionURI value must change for each edit session of a form instance.</p></li>
</ul>
</section>
<section id="instance-status-attributes">
<h4>Instance Status Attributes<a class="headerlink" href="#instance-status-attributes" title="Permalink to this heading">#</a></h4>
<p>The following instance attributes are generally assigned by the FF, based on input from the DEF user:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">approvalStatus</span></code>: Describes report fitness for clinical or other action:</p>
<ul>
<li><p>inProcess: currently being edited, users should not rely on results</p></li>
<li><p>preliminary: report is awaiting final review and approval</p></li>
<li><p>approved: report is fit for clinical or other action, often synonymous with final</p></li>
<li><p>cancelled: report/procedure has been aborted before issued</p></li>
<li><p>retracted: report has been deemed unfit for clinical or other action</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">completionStatus</span></code>: The extent to which a report contains all of the requested information:</p>
<ul>
<li><p>pending: no information is yet available</p></li>
<li><p>incomplete: some requested information is not yet available</p></li>
<li><p>complete: all information is available in the requested report</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">newData</span></code>: Identifies existence of data that is new to the current instance of package, form, section, or question compared to the previous instance of the package, form, section, or question. Values: True/False</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">changedData</span></code>: Identifies existence of data that has been changed in the current instance of package/form/section/question compared to the previous instance of the package/form/section/question. Values: True/False</p></li>
</ul>
<p>Below is an exhaustive FormDesign example. All required attributes are marked with <code class="docutils literal notranslate"><span class="pre">required</span></code> in the example below with comments on the groupings of attributes.</p>
<p><strong>Note:</strong> The XML comments inside of the <element> tags are not valid XML and are only for grouping the attributes by type for readability.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FormDesign</span>
<span class="o">&lt;!</span>--Namespaces--&gt;
  <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:ihe:qrph:sdc:2016&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsd</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> 
  <span class="n">xmlns</span><span class="p">:</span><span class="n">xsi</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
  <span class="n">xmlns</span><span class="p">:</span><span class="n">h</span><span class="o">=</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">w3</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="mi">1999</span><span class="o">/</span><span class="n">xhtml</span>

<span class="o">&lt;!</span>--Schema-based<span class="w"> </span>validation--&gt;<span class="w"> </span>
  <span class="n">xsi</span><span class="p">:</span><span class="n">schemaLocation</span><span class="o">=</span><span class="s2">&quot;urn:ihe:qrph:sdc:2016 file:SDCFormDesign.xsd&quot;</span>
<span class="o">&lt;!</span>--generic<span class="w"> </span>BaseType<span class="w"> </span>attributes--&gt;
  <span class="n">order</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> 
  <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;&quot;</span> 
  <span class="n">styleClass</span><span class="o">=</span><span class="s2">&quot;&quot;</span> 
  <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227&quot;</span> 

<span class="o">&lt;!</span>--identifier-related<span class="w"> </span>attributes--&gt;
  <span class="n">baseURI</span><span class="o">=</span><span class="s2">&quot;cap.org&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
  <span class="n">lineage</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
  <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.001.011.RC1&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
  <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
  <span class="n">fullURI</span><span class="o">=</span>
  <span class="s2">&quot;_baseURI=cap.org&amp;amp;_lineage=Lung.Bmk.227&amp;amp;_version=1.001.011.RC1&amp;amp;_docType=sdcFDF&quot;</span> <span class="o">&lt;!</span>--required--&gt;<span class="w"> </span>
     <span class="n">prevVersionID</span><span class="o">=</span>
  <span class="s2">&quot;_baseURI=cap.org&amp;amp;_lineage=Lung.Bmk.227&amp;amp;_version=1.000.001.REL&amp;amp;_docType=sdcFDF&quot;</span>

<span class="o">&lt;!</span>--miscellaneous<span class="w"> </span>helper<span class="w"> </span>attributes--&gt;
  <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF.xml&quot;</span> 
     <span class="n">basedOnURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
  <span class="n">formTitle</span><span class="o">=</span><span class="s2">&quot;Lung Biomarker Reporting Template&quot;</span>

<span class="o">&lt;!</span>--data-submission<span class="w"> </span>identifiers--&gt;
     <span class="n">formInstanceURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
     <span class="n">formInstanceVersionURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
     <span class="n">formPreviousInstanceVersionURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<span class="o">&gt;</span> <span class="o">&lt;!</span>--End<span class="w"> </span>of<span class="w"> </span>opening<span class="w"> </span>FormDesign<span class="w"> </span>element<span class="w"> </span>tag--&gt;
<span class="o">&lt;!</span>--FormDesign<span class="w"> </span>Property<span class="w"> </span>elements--&gt;
  <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_static_text&quot;</span> <span class="n">styleClass</span><span class="o">=</span><span class="s2">&quot;copyright&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>
    <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span>
    <span class="n">val</span><span class="o">=</span><span class="s2">&quot;(c) 2018 College of American Pathologists.  License required for use.&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ApprovalStatus&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;13&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;ApprovalStatus&quot;</span>
    <span class="n">val</span><span class="o">=</span><span class="s2">&quot;RC1&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;!</span>--Main<span class="w"> </span>section<span class="w"> </span>of<span class="w"> </span>form<span class="w"> </span>starts<span class="w"> </span>here--&gt;
  <span class="o">&lt;</span><span class="n">Body</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Body&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;14&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF_Body&quot;</span><span class="o">/&gt;</span> 
<span class="o">&lt;/</span><span class="n">FormDesign</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="sdc-type-hiearchy">
<h3>SDC Type Hiearchy<a class="headerlink" href="#sdc-type-hiearchy" title="Permalink to this heading">#</a></h3>
<p>SDC elements all have types associated with them. <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> is an example of a base type. The sections below will describe subtypes.</p>
<p>Abstract Types have…</p>
<p><img alt="SDC Schema Hierarchy" src="Schema/Schema/SDCtypeHierarchy.png" /></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BaseType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeMatchType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CommentType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExtensionType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ExtensionBaseType</span></code>: (EBT) requires a more detailed explaination below.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PropertyType</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TemplateAdminType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ChildItemsType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LinkType</span></code>, <code class="docutils literal notranslate"><span class="pre">BlobType</span></code>, <code class="docutils literal notranslate"><span class="pre">ContactType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodedValue</span></code>, <code class="docutils literal notranslate"><span class="pre">CodeSystemType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ListFieldType</span></code>, <code class="docutils literal notranslate"><span class="pre">ListType</span></code>, <code class="docutils literal notranslate"><span class="pre">LookUpendpointType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ReponseFieldType</span></code>, <code class="docutils literal notranslate"><span class="pre">ListItemFieldType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IdentifiedExtensionType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DataElementType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FormDesignType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">InjectFormType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ButtonItemType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ListItemType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RepeatingType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SectionType</span></code>:</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QuestionType</span></code>:</p></li>
</ul>
</section>
<section id="extensionbasetype-ebt">
<h3>ExtensionBaseType (EBT)<a class="headerlink" href="#extensionbasetype-ebt" title="Permalink to this heading">#</a></h3>
<p>The ExtensionBaseType (EBT) is an abstract type that confers on descendants the ability to add custom <code class="docutils literal notranslate"><span class="pre">Extension</span></code>, <code class="docutils literal notranslate"><span class="pre">Comment</span></code> and <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements. Most SDC Types inherit from ExtensionBaseType, with the notable exceptions of CommentType, ExtensionType, all SDC datatypes, and some direct derivatives of datatypes.</p>
<section id="extension">
<h4>Extension<a class="headerlink" href="#extension" title="Permalink to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">Extension</span></code> element provides a place to insert XML that is not defined in the SDC Schema. The <code class="docutils literal notranslate"><span class="pre">Extension</span></code> element is defined by <code class="docutils literal notranslate"><span class="pre">ExtensionType</span></code>, which inherits from <code class="docutils literal notranslate"><span class="pre">BaseType</span></code>. The sub-elements of <code class="docutils literal notranslate"><span class="pre">Extension</span></code> must provide a namespace (and ideally an XML Schema) for any non-SDC elements and attributes that are introduced.  The <code class="docutils literal notranslate"><span class="pre">Extension</span></code> element provides almost infinite expansion flexibility for SDC. However, it also requires that form designers and implementers agree on the supported extensions, agree on which elements and contexts they may be used, document this usage, and create an extension validation mechanism to enforce correct usage and detect incorrect usage.</p>
</section>
<section id="comment">
<h4>Comment<a class="headerlink" href="#comment" title="Permalink to this heading">#</a></h4>
<p>The EBT also includes the ability to add optional <code class="docutils literal notranslate"><span class="pre">Comment</span></code> elements. The <code class="docutils literal notranslate"><span class="pre">Comment</span></code> element is defined by the <code class="docutils literal notranslate"><span class="pre">CommentType</span></code>, which inherits from <code class="docutils literal notranslate"><span class="pre">BaseType</span></code>.  Comments may be provided by the FDF designer, the FDF implementation code, or by the DEF user. The type and styling of the <code class="docutils literal notranslate"><span class="pre">Comment</span></code> (if present) can be customized with the <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">styleClass</span></code> attributes. The comments are simple ASCII text and may not include rich text or substructures. The <code class="docutils literal notranslate"><span class="pre">Comment</span></code> content is placed in the <code class="docutils literal notranslate"><span class="pre">val</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">Comment</span></code> element.</p>
<p>Examples of comments created by an FDF designer are comments for the implementor. Comments from the DEF user might concern their response to a QR or the selection of a <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>. If DEF users are allowed to add <code class="docutils literal notranslate"><span class="pre">Comment</span></code> elements, then the FDF implementation must include visual clues (e.g., a comment icon) in the DEF so that the user can add comments at appropriate points (e.g., on each <code class="docutils literal notranslate"><span class="pre">Question</span></code> and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>).</p>
</section>
<section id="property">
<h4>Property<a class="headerlink" href="#property" title="Permalink to this heading">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> elements are based on <code class="docutils literal notranslate"><span class="pre">PropertyType</span></code>.  <code class="docutils literal notranslate"><span class="pre">PropertyType</span></code>, which is a component of EBT, also derives recursively from EBT. Thus, a <code class="docutils literal notranslate"><span class="pre">Property</span></code> element may have any number of direct <code class="docutils literal notranslate"><span class="pre">Comment</span></code>, <code class="docutils literal notranslate"><span class="pre">Extension</span></code>, and <code class="docutils literal notranslate"><span class="pre">Property</span></code> descendants, and <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements may thus be nested to any desired degree.  <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements may occur as children of all XFCs and most other FDF elements.</p>
<p>Properties may be used to define standard or custom FDF metadata.  They also may be used to record visible or hidden metadata for any purpose.   <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements, when used on a DI or descendants of <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>, can be used for many kinds of tasks including:</p>
<ul class="simple">
<li><p>Display static information on forms</p></li>
<li><p>Display context-sensitive information (e.g., tooltips, status bar text, help pop-ups, or special text designed for report output).   (The <code class="docutils literal notranslate"><span class="pre">Link</span></code> element may also be used to provide help resources)</p></li>
<li><p>Provide rich title text (i.e., in HTML format) for implementations that support rich text</p></li>
<li><p>Provide alternative language text</p></li>
<li><p>Provide ancillary, alternate, instructional or informational text for <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code> descendants</p></li>
</ul>
<p>In most cases, <code class="docutils literal notranslate"><span class="pre">Property</span></code>-derived text is displayed only under certain conditions (e.g., for rendering tooltips or report output).  Determining if/when a <code class="docutils literal notranslate"><span class="pre">Property</span></code> should be displayed on a DEF requires the interpretation of its <code class="docutils literal notranslate"><span class="pre">propName</span></code>, <code class="docutils literal notranslate"><span class="pre">type</span></code>, and <code class="docutils literal notranslate"><span class="pre">styleClass</span></code> attributes, as specified by an established user community.  Examples of possible <code class="docutils literal notranslate"><span class="pre">Property</span></code> <code class="docutils literal notranslate"><span class="pre">propName</span></code> values include “helpText,” “tooltip,” “statusBarText,” etc., which are commonly supported concepts and control types in most DEF programming frameworks.  The  <code class="docutils literal notranslate"><span class="pre">Property</span></code> element is also commonly used to contain invisible form metadata, e.g., versioning, source references, alternate language text, etc.  Examples include “alt-text,” “reportText,” “htmlTitle,” etc, which will be described later.  Any SDC <code class="docutils literal notranslate"><span class="pre">Property</span></code> text may optionally be available as strongly-typed data (e.g., integer, string, etc.).</p>
<p><code class="docutils literal notranslate"><span class="pre">Property</span></code> may have descendants of <code class="docutils literal notranslate"><span class="pre">Property</span></code>, <code class="docutils literal notranslate"><span class="pre">Comment</span></code>, and <code class="docutils literal notranslate"><span class="pre">Extension</span></code>.  As shown in Example 12: Nested Properties, <code class="docutils literal notranslate"><span class="pre">Properties</span></code> may be nested to any depth and use any datatype for the <code class="docutils literal notranslate"><span class="pre">Property’s</span></code> value.</p>
<p><code class="docutils literal notranslate"><span class="pre">Properties</span></code> will be called by their <code class="docutils literal notranslate"><span class="pre">propName</span></code>, so that if the <code class="docutils literal notranslate"><span class="pre">propName</span></code> value is “myPropName1,” the <code class="docutils literal notranslate"><span class="pre">Property</span></code> will be called the “myPropName1 Property.”  A <code class="docutils literal notranslate"><span class="pre">Property</span></code> must have content in the <code class="docutils literal notranslate"><span class="pre">propName</span></code> attribute, unless it is using a strongly-typed value under the <code class="docutils literal notranslate"><span class="pre">Property\TypedValue</span></code> tag.   Strongly-typed <code class="docutils literal notranslate"><span class="pre">Property</span></code> values are discussed next.</p>
<p>The example below shows nesting properties.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DisplayedItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;DI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;?This is a Note&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName1&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 1&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName1.1&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 1.1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName1.1.1&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 1.1.1&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName2&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 2&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName2.1&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 2.1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myPropName2.1.1&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is property value 2.1.1&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DisplayedItem</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<section id="formdesign-property-elements">
<h5><code class="docutils literal notranslate"><span class="pre">FormDesign\Property</span></code> Elements<a class="headerlink" href="#formdesign-property-elements" title="Permalink to this heading">#</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">Property</span></code> element may be used in conjunction with the FormDesign element, as shown below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">FormDesign</span> 
  <span class="n">order</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF&quot;</span>
  <span class="n">baseURI</span><span class="o">=</span><span class="s2">&quot;cap.org&quot;</span>
  <span class="n">fullURI</span><span class="o">=</span>
  <span class="s2">&quot;_baseURI=cap.org&amp;amp;_lineage=Lung.Bmk.227&amp;amp;_version=1.001.011.RC1&amp;amp;_docType=sdcFDF&quot;</span>
  <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF.xml&quot;</span> <span class="n">lineage</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227&quot;</span>
  <span class="n">formTitle</span><span class="o">=</span><span class="s2">&quot;Lung Biomarker Reporting Template&quot;</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;1.001.011.RC1&quot;</span>
  <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:ihe:qrph:sdc:2016&quot;</span>
  <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCC_static_text&quot;</span> <span class="n">styleClass</span><span class="o">=</span><span class="s2">&quot;copyright&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;1&quot;</span>
    <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span>
    <span class="n">val</span><span class="o">=</span><span class="s2">&quot;(c) 2018 College of American Pathologists.  License required for use.&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ApprovalStatus&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCC_meta&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;13&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;ApprovalStatus&quot;</span>
    <span class="n">val</span><span class="o">=</span><span class="s2">&quot;RC1&quot;</span><span class="o">/&gt;</span>
  <span class="o">&lt;</span><span class="n">Body</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Body&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;14&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Lung.Bmk.227_1.001.011.RC1_sdcFDF_Body&quot;</span><span class="o">/&gt;</span> 
<span class="o">&lt;/</span><span class="n">FormDesign</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="strongly-typed-property-values-for-special-purposes">
<h5>Strongly-Typed Property Values for Special Purposes<a class="headerlink" href="#strongly-typed-property-values-for-special-purposes" title="Permalink to this heading">#</a></h5>
<p>Sometimes, a <code class="docutils literal notranslate"><span class="pre">Property</span></code> needs to use a specific datatype, and this datatype ideally should be validated in the SDC XML for the correct format required by that datatype.  In these cases, we can use the <code class="docutils literal notranslate"><span class="pre">TypedValue</span></code> feature of the <code class="docutils literal notranslate"><span class="pre">Property</span></code> element.</p>
<p>In the SDC Schema, HTML and XML are regular datatypes, in addition to the standard W3C datatypes, such as <code class="docutils literal notranslate"><span class="pre">string</span></code> and <code class="docutils literal notranslate"><span class="pre">integer</span></code>.   However, HTML in the SDC Schema means the strict XHTML , variant.  SDC thus supports custom HTML and XML islands everywhere that <code class="docutils literal notranslate"><span class="pre">Property</span></code> and datatypes are supported in the FDF.</p>
<p>Example 14 shows a strongly typed <code class="docutils literal notranslate"><span class="pre">Property</span></code> used to include XHTML-formatted text at any point in any EBT-derived element. The term “strongly-typed” in this context means that we are using a well-known (and preferably well-documented) <code class="docutils literal notranslate"><span class="pre">propName</span></code> value, which in this example is “myHtmlProperty”. Note the inclusion of a required XHTML Schema xmlns namespace declaration and SchemaLocation in the first <div> element. They are both required for the use and validation of a <code class="docutils literal notranslate"><span class="pre">Property</span></code> with strongly-typed XHTML content. As noted above, the HTML datatype element is used for this purpose, but the validation is accomplished with an XHTML Schema, to make it produce only valid XML, and make it work with strict XML validation technologies.</p>
<p>The following example shows a <code class="docutils literal notranslate"><span class="pre">TypedValue\HTML</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myHtmlProperty&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is plain property text&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">TypedValue</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">HTML</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">div</span>	<span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="n">xsi</span><span class="p">:</span><span class="n">schemaLocation</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml xhtml.xsd&quot;</span><span class="o">&gt;</span>
            <span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">XHTML</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span> <span class="n">version</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">property</span> <span class="n">text</span><span class="o">.</span>
            <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span> 
        <span class="o">&lt;/</span><span class="n">HTML</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">TypedValue</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>Strongly-typed <code class="docutils literal notranslate"><span class="pre">Properties</span></code> support all SDC datatypes.  The next example shows a strongly-typed <code class="docutils literal notranslate"><span class="pre">date</span> <span class="pre">Property</span></code>, which enforces the proper date format.  Note that <code class="docutils literal notranslate"><span class="pre">val</span></code> is not included in the <code class="docutils literal notranslate"><span class="pre">Property</span></code> element, only in the <code class="docutils literal notranslate"><span class="pre">date</span></code> element.  This is because <code class="docutils literal notranslate"><span class="pre">val</span></code> can only be validated against the <code class="docutils literal notranslate"><span class="pre">string</span> <span class="pre">datatype</span></code>, whereas <code class="docutils literal notranslate"><span class="pre">date</span></code> validates using the W3C date datatype.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;myDateProperty&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">TypedValue</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">date</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;2019-01-01&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">TypedValue</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-reporttext-property">
<h5>The <code class="docutils literal notranslate"><span class="pre">reportText</span></code> Property<a class="headerlink" href="#the-reporttext-property" title="Permalink to this heading">#</a></h5>
<p>The following example uses a <code class="docutils literal notranslate"><span class="pre">Question</span> <span class="pre">XFC</span></code> to introduce the <code class="docutils literal notranslate"><span class="pre">reportText</span></code> <code class="docutils literal notranslate"><span class="pre">Property</span></code>. We will cover the <code class="docutils literal notranslate"><span class="pre">Question</span> <span class="pre">XFC</span></code> in more detail later. Question text used for the DEF display is contained in the <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute. In the default case, this Question <code class="docutils literal notranslate"><span class="pre">title</span></code> text should also appear in a report with no changes. In some cases, however, the report text should be different than the DEF text. In this latter case, the <code class="docutils literal notranslate"><span class="pre">Question</span> <span class="pre">title</span></code> is used for display to the DEF user, but the <code class="docutils literal notranslate"><span class="pre">val</span></code> content (“Gross Appearance:”) of the <code class="docutils literal notranslate"><span class="pre">reportText</span></code> <code class="docutils literal notranslate"><span class="pre">Property</span></code> is used for the report. This is common on CAP eCPs, where a differen question title is expected on the final report generated from the FDF-R.</p>
<p>The example below shows shows the <code class="docutils literal notranslate"><span class="pre">reportText</span></code> <code class="docutils literal notranslate"><span class="pre">Property</span></code> in a <code class="docutils literal notranslate"><span class="pre">Question</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Q6&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Describe the Tumor&#39;s Gross Appearance&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Gross Appearance:&quot;</span><span class="o">/&gt;</span>               
    <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">string</span> <span class="n">val</span> <span class="o">=</span> <span class="s2">&quot;The tumor was of ovoid shape, fully encapsulated...&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>Occasionally, we wish to delete the DEF title text entirely from the report.  This is achieved by placing “{no text}” in the <code class="docutils literal notranslate"><span class="pre">reportText</span></code> <code class="docutils literal notranslate"><span class="pre">Property</span></code> as follows:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Q6&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Describe the Tumor&#39;s Gross Appearance&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;{no text}&quot;</span><span class="o">/&gt;</span>               
    <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">string</span> <span class="n">val</span> <span class="o">=</span> <span class="s2">&quot;The tumor was of ovoid shape, fully encapsulated...&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>The next example demonstrates how a Property can define text that appears in a report, but should not appear in a DEF. By default, <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> title text should not appear on a report, because it is usually designed to aid the DEF user in filling out the DEF. However, custom text is sometimes needed on a report, but is not needed (by default) on the DEF because it can clutter up the screen. This pattern is sometimes called a “report note.” Note that the <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute could have been omitted from the XML entirely since it’s an optional attribute that contains no value (“”).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DisplayedItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;DI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Physician&#39;s Note: ...&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DisplayedItem</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="other-property-types">
<h5>Other Property Types<a class="headerlink" href="#other-property-types" title="Permalink to this heading">#</a></h5>
<p>As described earlier, it is also possible to use a special Property (e.g., “titleHTML”) to specify rich text for the DEF and/or report. The example below shows Rich text using <code class="docutils literal notranslate"><span class="pre">Property\TypedValue\HTML</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Q6&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Describe the Tumor&#39;s Gross Appearance&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;titleHTML&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">TypedValue</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">HTML</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">div</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span>
                    <span class="n">xsi</span><span class="p">:</span><span class="n">schemaLocation</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml xhtml.xsd&quot;</span><span class="o">&gt;</span>
                    <span class="n">Describe</span> <span class="n">the</span> <span class="n">Tumor</span><span class="s1">&#39;s &lt;b&gt;Gross Appearance&lt;/b&gt; &lt;/div&gt;</span>
            <span class="o">&lt;/</span><span class="n">HTML</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">TypedValue</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">Property</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Gross Appearance:&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">string</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;The tumor was of ovoid shape, fully encapsulated...&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>The Response text can handle rich text from user-input in a similar fashion, but without using Property. For example, the Response<code class="docutils literal notranslate"><span class="pre">string</span></code> datatype could have used the <code class="docutils literal notranslate"><span class="pre">HTML</span></code> datatype instead of <code class="docutils literal notranslate"><span class="pre">string</span></code>, allowing the DEF user to enter rich HTML text into the DEF instead of unformatted text:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">HTML</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">div</span> <span class="n">xmlns</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span>
             <span class="n">xsi</span><span class="p">:</span><span class="n">schemaLocation</span><span class="o">=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml xhtml.xsd&quot;</span><span class="o">&gt;</span>
             <span class="o">&lt;</span><span class="n">b</span><span class="o">&gt;</span><span class="n">The</span> <span class="n">tumor</span> <span class="n">was</span> <span class="n">of</span> <span class="n">ovoid</span> <span class="n">shape</span><span class="p">,</span> <span class="n">fully</span> <span class="n">encapsulated</span><span class="o">&lt;/</span><span class="n">b</span><span class="o">&gt;</span> 
        <span class="o">&lt;/</span><span class="n">div</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">HTML</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>Later, we will introduce the concept of “untitled Questions,” which are Questions that have no <code class="docutils literal notranslate"><span class="pre">title</span></code> attribute text, but the Question’s subject is easily inferred from the context. However, in some cases, a particular DEF implementation style may need to display alternative text for the question. For these situations, alternative title text is provided in the form of the <code class="docutils literal notranslate"><span class="pre">altText</span> <span class="pre">Property</span></code>.</p>
<p>Properties can be used for any similar custom purposes on any EBT element. The <code class="docutils literal notranslate"><span class="pre">Property</span> <span class="pre">names</span> <span class="pre">(propName)</span></code> and implementation details must be agreed upon by form designers and implementors so that implementation code. The following example shows <code class="docutils literal notranslate"><span class="pre">Property</span></code> using to show altText</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Q7&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;altText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;This is alternative Question text&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;!</span>--<span class="w"> </span>other<span class="w"> </span>Question<span class="w"> </span>XML<span class="w"> </span>elements<span class="w"> </span>omitted<span class="w"> </span><span class="k">for</span><span class="w"> </span>brevity--&gt;
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="identifiedextensiontype-iet">
<h3>IdentifiedExtensionType (IET)<a class="headerlink" href="#identifiedextensiontype-iet" title="Permalink to this heading">#</a></h3>
<p>The IdentifiedExtensionType (IET) adds two attributes to its parent Type, EBT. The two attributes allow the unique identification of XFCs in an FDF, and also allow unique identification of the FDF. The attributes are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ID</span></code>: The ubiquitous ID attribute is a unique URI identifier for XFC types in <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code>, and for FormDesign itself. It is required, and its uniqueness is enforced by the SDC Schema. URI identifiers are very flexible since they may assume any legal XML URI format.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">baseURI</span></code>: The baseURI is required only in the FormDesign element; it is optional on XFCs. It identifies the organization that is responsible for designing and maintaining the FDF or XFC. If an XFC does not derive from the same organization as the default baseURI (the FDF <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> which is defined in the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> element), then a new value for the baseURI is entered on the XFC element to override the default one, and the new baseURI is then inherited by all descendant XFCs unless overridden by a descendant XFC. In most cases, FDFs will contain only a single default baseURI on the FDF, and no baseURI on the XFCs.</p></li>
</ul>
<p>Ideally, the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> + <code class="docutils literal notranslate"><span class="pre">ID</span></code> should combine to form a globally unique identifier, that uniquely identifies an item in a particular form <code class="docutils literal notranslate"><span class="pre">lineage</span></code>. The same <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> and <code class="docutils literal notranslate"><span class="pre">ID</span></code> may be reused in derived or versioned forms, as long as the context stays the same, and any affected data elements remain unchanged in context and semantics.</p>
</section>
<section id="displayedtype">
<h3>DisplayedType<a class="headerlink" href="#displayedtype" title="Permalink to this heading">#</a></h3>
<p>DisplayedType has two functions: it defines the <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> XFC for representing visible areas on the screen, and also acts as a building block for the other visible XFCs (<code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>, <code class="docutils literal notranslate"><span class="pre">ButtonAction</span></code>). DisplayedType defines most of the essential functional underlying capabilities of XFC-based controls. These capabilities include support for <code class="docutils literal notranslate"><span class="pre">LinkItem</span></code>, <code class="docutils literal notranslate"><span class="pre">BlobContent</span></code>, <code class="docutils literal notranslate"><span class="pre">CodedValue</span></code>, and several fundamental <code class="docutils literal notranslate"><span class="pre">Event</span></code> and <code class="docutils literal notranslate"><span class="pre">Guard</span></code> types. <code class="docutils literal notranslate"><span class="pre">LinkItems</span></code> contain the address of internal (DEF-based) or external (network-based) resources for support display or functionality in a DEF. <code class="docutils literal notranslate"><span class="pre">BlobContent</span></code> contains inline Binary Large Objects of virtually any type, but primarily those defined as standard MIME types.  Events are DEF user actions that are “captured” by the DEF to alter DEF behavior or functionality in some way.  The standard events are <code class="docutils literal notranslate"><span class="pre">Enter</span></code>, <code class="docutils literal notranslate"><span class="pre">Exit</span></code>, <code class="docutils literal notranslate"><span class="pre">OnEvent</span></code> (designer-defined).  <code class="docutils literal notranslate"><span class="pre">OnEvent</span></code> is a generic event that is defined by the form designer. An SDC Guard is a unit of coded functionality that is activated or “fired” by an Event somewhere else in the DEF. The two built-in Guards are <code class="docutils literal notranslate"><span class="pre">ActivateIf</span></code> and <code class="docutils literal notranslate"><span class="pre">DeActivateIf</span></code>. These Guards activate and deactivate visible XFC-derived DEF controls based on activity somewhere else in the DEF.</p>
</section>
<section id="fdf-identifiers">
<h3>FDF Identifiers<a class="headerlink" href="#fdf-identifiers" title="Permalink to this heading">#</a></h3>
<p>Each FDF has its own <code class="docutils literal notranslate"><span class="pre">ID</span></code> attribute in the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> element, which uniquely identifies each “class” of FDF document. The word “class” is meant to convey that the <code class="docutils literal notranslate"><span class="pre">lineage</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> are identical for each FDF that shares an <code class="docutils literal notranslate"><span class="pre">ID</span></code>; The XML content is identical in FDFs that share an <code class="docutils literal notranslate"><span class="pre">ID</span></code>.</p>
<p>In addition, every XFC in an FDF contains an <code class="docutils literal notranslate"><span class="pre">ID</span></code> value, which must be unique within its FDF. However, <code class="docutils literal notranslate"><span class="pre">ID</span></code> values do not need to be globally unique. Therefore, the same <code class="docutils literal notranslate"><span class="pre">ID</span></code> values may be used in other forms, including: Forms with the same <code class="docutils literal notranslate"><span class="pre">lineage</span></code> and forms form a different source. Within a given organization, it is best to control the release of <code class="docutils literal notranslate"><span class="pre">IDs</span></code>, so that the same <code class="docutils literal notranslate"><span class="pre">ID</span></code> never appears in a different FDF <code class="docutils literal notranslate"><span class="pre">lineage</span></code>.</p>
<p>Most XFC <code class="docutils literal notranslate"><span class="pre">IDs</span></code> are not changed when an FDF from a given <code class="docutils literal notranslate"><span class="pre">lineage</span></code> is released with a new <code class="docutils literal notranslate"><span class="pre">version</span></code>. However, a new FDF <code class="docutils literal notranslate"><span class="pre">version</span></code> will force an <code class="docutils literal notranslate"><span class="pre">ID</span></code> change for the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> element. Within a given <code class="docutils literal notranslate"><span class="pre">lineage</span></code> of FDFs, identical XFC <code class="docutils literal notranslate"><span class="pre">ID</span></code> values signal that the semantics and basic structure of the object remains unchanged across different <code class="docutils literal notranslate"><span class="pre">versions</span></code>. The criteria for changing <code class="docutils literal notranslate"><span class="pre">IDs</span></code> on versioned Q and LI items are discussed later in this document.</p>
<p>It is possible to create a system for globally unique <code class="docutils literal notranslate"><span class="pre">ID</span></code> values that would enable every FDF and every XFC in a form to be uniquely identified, e.g., by using GUIDs. However, the use and maintenance of long GUID <code class="docutils literal notranslate"><span class="pre">ID</span></code> values can sometimes cause difficulties and errors.</p>
<p>To enable the use of simpler, shorter <code class="docutils literal notranslate"><span class="pre">ID</span></code> values that are easier to use, the SDC Schema includes the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> attribute. The <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> functions similarly to an XML namespace since it uniquely identifies the organization or group or even the current form. When the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> value is used in conjunction with the <code class="docutils literal notranslate"><span class="pre">ID</span></code> value, a composite globally-unique identifier (CGUI) is created for each XFC. For example, if the simple <code class="docutils literal notranslate"><span class="pre">ID</span></code> value is “100”, and the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is “<a class="reference external" href="http://www.cap.org/FormsDomainSDC1/">www.cap.org/FormsDomainSDC1/</a>”, then the CGUI is “<a class="reference external" href="http://www.cap.org/FormsDomainSDC1/100">www.cap.org/FormsDomainSDC1/100</a>”, which the issuing organization (<a class="reference external" href="http://cap.org">cap.org</a>) should guarantee as unique within an FDF <code class="docutils literal notranslate"><span class="pre">lineage</span></code>. The CGUI is generated as needed and thus is not found explicitly in the FDF XML. Note that the <code class="docutils literal notranslate"><span class="pre">ID</span></code> value “100” need not be globally unique, but the CGUI should be globally unique.</p>
<p>The default XFC <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is defined as identical to the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>. A new <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is not assigned to an XFC unless the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is not “appropriate” for a specific XFC and its descendant XFCs. An appropriate <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> should reflect the organization that created and/or maintains the XFC content, as well as the FDF content domain that it addresses. The <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is inherited by all descendant XFCs and should not be added to the SDC XML unless there is a change in <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>.</p>
<p>Ideally, the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> is assigned once at the highest level of an FDF (the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> element). Every descendant <code class="docutils literal notranslate"><span class="pre">ID</span></code> then inherits the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>, without repeating the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> at each XFC. If necessary, multiple <code class="docutils literal notranslate"><span class="pre">baseURIs</span></code> may be used throughout an FDF; these override any higher-level URI assigned above it in the FDF hierarchy. Thus, an XFC uses the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> ancestor that is closest to it in the FDF hierarchy, starting with its own <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> value (if it is present).</p>
<p>To create a <code class="docutils literal notranslate"><span class="pre">baseURI</span></code>, the institution that creates an SDC form should have one or more registered globally-unique <code class="docutils literal notranslate"><span class="pre">IDs</span></code> (e.g., domain names or GUIDs) that are used to uniquely identify the origin and uniqueness of its SDC forms. Ideally, these <code class="docutils literal notranslate"><span class="pre">IDs</span></code> should be in URL format, and should ideally represent real URLs that can be “dereferenced” to provide information about the organization and its forms. It’s best to avoid using prefixes like “http://” or “https://” in the <code class="docutils literal notranslate"><span class="pre">baseURI</span></code> text because these add unnecessary length and can occasionally cause XML validation errors when used in a URI-typed field such as <code class="docutils literal notranslate"><span class="pre">formInstanceURI</span></code>.</p>
</section>
<section id="formdesign-properties-for-cap-electronic-cancer-protocols-ecps">
<h3>FormDesign Properties for CAP electronic Cancer Protocols (eCPs)<a class="headerlink" href="#formdesign-properties-for-cap-electronic-cancer-protocols-ecps" title="Permalink to this heading">#</a></h3>
<p>Earlier, we introduced the concept of <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements under the <code class="docutils literal notranslate"><span class="pre">FormDesign</span></code> tag. FDF <code class="docutils literal notranslate"><span class="pre">Properties</span></code> allow form designers to introduce domain-specific metadata into the FDF for a variety of purposes. Any of these <code class="docutils literal notranslate"><span class="pre">Property</span></code> elements may be displayed (or not) in the FDF, depending on the use case, and under the control of the FF software.</p>
<p>CAP Property types:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Copyright</span></code>: A copyright statement</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GenericHeaderText</span></code>: Text that appears at the top of the DEF</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Category</span></code>: The organ group that includes the current form, e.g., “Endocrine”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OfficialName</span></code>: The full human-readable name of the current form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP_ProtocolName</span></code>: The name of the CAP Cancer Protocol that contains the current form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP_ProtocolShortName</span></code>: The abbreviated name of the CAP Cancer Protocol that contains the current form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP_ProtocolVersion</span></code>: The version of the CAP Protocol</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TemplateID</span></code>: A numeric identifier for the form lineage, appended to the lineage text</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Restrictions</span></code>: Rules about when to use or not use this form</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CAP_Required</span></code>: The value is “true” if the form is required for Commission on Cancer accreditation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AccreditationDate</span></code>: The data that this form must go into effect to satisfy the requirements of accreditation-related surveys</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WebPostingDate</span></code>: The date the form was posted on the CAP website</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ShortName</span></code>: A concise name for the form, more manageable than the long OfficialName Property</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ApprovalStatus</span></code>: A short text flag that indicates how close the form is to an officially-approved release. Examples include CTP (Community Technology Preview), RC (Release Candidate), and REL (official Release for implementation)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AJCC_Version</span></code>: The version of the American Joint Committee on Cancer (AJCC) Staging Manual used in the FDF</p></li>
</ul>
<p>Here are examples of the CAP eCP properties that may be present in <Property> elements in the <FormDesign> element.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_static_text&quot;</span> <span class="n">styleClass</span><span class="o">=</span><span class="s2">&quot;copyright&quot;</span> 
<span class="n">propName</span><span class="o">=</span><span class="s2">&quot;Copyright&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;(c) 2018 College of American Pathologists.  All rights reserved.  License required for use.&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;GenericHeaderText&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_static_text&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;GenericHeaderText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Surgical Pathology Cancer Case Summary (Checklist)&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Category&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;Category&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Endocrine&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;OfficialName&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;OfficialName&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;ADRENAL GLAND&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolName&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolName&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Adrenal Gland&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolShortName&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolShortName&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Adrenal&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolVersion&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;CAP_ProtocolVersion&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;4.0.1.1&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;TemplateID&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;TemplateID&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;129.100004300&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Restrictions&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;Restrictions&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Please refer to the cancer protocol cover page (www.cap.org/cancerprotocols) for information about which tumor types and procedures can be reported using this template.&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;CAP_Required&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;CAP_Required&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;true&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;AccreditationDate&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta dt.dateTime&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;AccreditationDate&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;2/28/2018 12:00:00 AM&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;WebPostingDate&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta dt.dateTime&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;WebPostingDate&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;6/30/2017 12:00:00 AM&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ShortName&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;ShortName&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Adrenal.Bx.Res&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;ApprovalStatus&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;ReleaseStatus&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;RC2&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;AJCC_Version&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;CAPeCP_meta&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;AJCC_Version&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;8th Edition&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this heading">#</a></h2>
<p>A Section defines a grouping of Question and Answer Sets (QAS) that belong to a particular topic. For example, a Section may define a seciton of a form related to lymph nodes, and group all those questions together.</p>
<p>Section controls derive from FDF Section elements. They contain an ID and title and they subsume (wrap) a group of topically-related form controls. Sections can contain any number of sub-sections and other XFCs, except for ListItems. ListItems may appear in a Section but must be within a Question (QAS) structure.</p>
<p>The code snippet below shows a section with a name, order, ID and minCard attribute</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="o">&lt;</span><span class="n">Section</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;S_4257&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;19&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;4257.100004300&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
 <span class="o">&lt;/</span><span class="n">Section</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="childitems">
<h2>ChildItems<a class="headerlink" href="#childitems" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> element in Example 4: Nesting with a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> Element: <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code> provides a hierarchical nesting wrapper for <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>; these elements can become parent elements. A parent element must use a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> element to wrap child elements. The <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> wrapper element serves to separate element descendants from other parent-owned metadata elements (such as Property, Comment, and Event elements) that supplement the parent element. <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code> may be nested to any depth.</p>
<p><code class="docutils literal notranslate"><span class="pre">Question</span></code> does not use the <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> wrapper for containing <code class="docutils literal notranslate"><span class="pre">ListItems</span></code>. Instead, <code class="docutils literal notranslate"><span class="pre">ListItems</span></code> appear in a <code class="docutils literal notranslate"><span class="pre">\Question\ListField\List\ListItem</span></code> XML construct without a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> wrapper. This exception exists because the <code class="docutils literal notranslate"><span class="pre">ListField\List</span></code> structure serves as a wrapper for all <code class="docutils literal notranslate"><span class="pre">ListItems</span></code> belonging to a <code class="docutils literal notranslate"><span class="pre">Question</span></code> element.</p>
<p>Any element, except for <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>, may be nested under a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> element. Thus, a child <code class="docutils literal notranslate"><span class="pre">Section</span></code> or <code class="docutils literal notranslate"><span class="pre">Question</span></code> or <code class="docutils literal notranslate"><span class="pre">ListItem</span></code> can also wrap one or more elements if they are contained in a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> element.</p>
<p>The general rules for element nesting are:</p>
<ul class="simple">
<li><p>The following elements may have descendant elements <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, and <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>. These element descendants are always wrapped inside a <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> parent wrapper.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code>, <code class="docutils literal notranslate"><span class="pre">ButtonAction</span></code>, <code class="docutils literal notranslate"><span class="pre">InjectForm</span></code> do not support descendant elements. However, <code class="docutils literal notranslate"><span class="pre">IF</span></code> may inject SDC XML that contains descendants (described later).</p></li>
</ul>
</li>
<li><p>The following elements must have a direct <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> parent: <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code>, <code class="docutils literal notranslate"><span class="pre">ButtonAction</span></code>, <code class="docutils literal notranslate"><span class="pre">InjectForm</span></code>.</p>
<ul>
<li><p>The only exceptions are the Header, Body, and Footer sections that exist under the FormDesign element.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ListItem</span></code> is an exception to the other elements. A <code class="docutils literal notranslate"><span class="pre">ListItem</span></code> always appears in a <code class="docutils literal notranslate"><span class="pre">\Question\ListField\List\ListItem</span></code> construct.</p></li>
</ul>
<p>&#64;rmoldwin should we include ButtonAction and Inject form? Both sections in the</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Section</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;S1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;I am a section&quot;</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ChildItems</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span>--<span class="w"> </span>Section<span class="w"> </span>with<span class="w"> </span>a<span class="w"> </span>&lt;ChildItems&gt;<span class="w"> </span>tag<span class="w"> </span>containing<span class="w"> </span>all<span class="w"> </span>the<span class="w"> </span>content<span class="w"> </span>of<span class="w"> </span>that<span class="w"> </span>section<span class="w"> </span>including<span class="w"> </span>&lt;DisplayedItems&gt;<span class="w"> </span>and<span class="w"> </span>&lt;Questions&gt;<span class="w"> </span>
    <span class="n">Note</span> <span class="n">that</span> <span class="n">the</span> <span class="o">&lt;</span><span class="n">Question</span><span class="o">&gt;</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">require</span> <span class="n">a</span> <span class="o">&lt;</span><span class="n">ChildItems</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">contain</span> <span class="n">ListItems</span><span class="o">--&gt;</span>
        <span class="o">&lt;</span><span class="n">DisplayedItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;DI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;I am a note on the  screen&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;Q1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a question title&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span><span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span><span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span><span class="o">/&gt;</span>
                <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ChildItems</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Section</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="displayeditem">
<h2>DisplayedItem<a class="headerlink" href="#displayeditem" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> element is used to define visible text for display almost anywhere in a DEF. Each <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> has a unique ID, but, unlike <code class="docutils literal notranslate"><span class="pre">Section</span></code> and <code class="docutils literal notranslate"><span class="pre">Question</span></code>, a <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> cannot have descendants and cannot be repeated or subsumed inside a repeating <code class="docutils literal notranslate"><span class="pre">Section</span></code>, <code class="docutils literal notranslate"><span class="pre">Question</span></code>, or <code class="docutils literal notranslate"><span class="pre">ListItem</span></code>. Displayed text that requires the use of descendants must use the <code class="docutils literal notranslate"><span class="pre">Section</span></code> element instead. The formatting of any SDC element, such as <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> or <code class="docutils literal notranslate"><span class="pre">Section</span></code>, can be specified by the <code class="docutils literal notranslate"><span class="pre">styleClass</span></code> attribute.</p>
<p>As described above, <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>, which provides the <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span> <span class="pre">(DI)</span></code> definition, is the parent Schema Type of the <code class="docutils literal notranslate"><span class="pre">XFC</span> <span class="pre">Types</span></code> for <code class="docutils literal notranslate"><span class="pre">S</span></code>, <code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">LI</span></code>, and <code class="docutils literal notranslate"><span class="pre">BA</span></code>. Thus, <code class="docutils literal notranslate"><span class="pre">S</span></code>, <code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">LI</span></code>, and <code class="docutils literal notranslate"><span class="pre">BA</span></code> inherit all elements and attributes of <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>. <code class="docutils literal notranslate"><span class="pre">IF</span></code> does not inherit from <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>, as it relies on the display properties of the subsumed injected parts, which do inherit from <code class="docutils literal notranslate"><span class="pre">DisplayedType</span></code>.</p>
<p>The primary function of <code class="docutils literal notranslate"><span class="pre">DI</span></code> is to provide text in the DEF. Often this takes the form of “notes,” which are strings of text that may accompany <code class="docutils literal notranslate"><span class="pre">QAS</span> <span class="pre">controls</span></code> to provide explanatory information with background documentation. Although DEF notes usually derive from the <code class="docutils literal notranslate"><span class="pre">DI</span> <span class="pre">XFC</span></code>, they can also derive from other <code class="docutils literal notranslate"><span class="pre">SDC</span> <span class="pre">objects</span></code> such as Section titles and Property values. The <code class="docutils literal notranslate"><span class="pre">DI</span></code> (as well as all <code class="docutils literal notranslate"><span class="pre">DisplayedType</span> <span class="pre">descendants</span></code>) can additionally be used to display Links (e.g., to Internet resources), BlobContent (Binary Large Objects) of any MIME type, Contact information, and CodedValues.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">DisplayedItem</span></code> has a unique ID and a title, but unlike <code class="docutils literal notranslate"><span class="pre">Questions</span></code> and <code class="docutils literal notranslate"><span class="pre">Sections</span></code>, cannot have <code class="docutils literal notranslate"><span class="pre">ChildItems</span></code> form components. <code class="docutils literal notranslate"><span class="pre">DisplayedItems</span></code> that must have <code class="docutils literal notranslate"><span class="pre">XFC</span></code> descendants should use the <code class="docutils literal notranslate"><span class="pre">Section</span></code> model.</p>
<section id="blob">
<h3>Blob<a class="headerlink" href="#blob" title="Permalink to this heading">#</a></h3>
<p>Blobs can handle any type of binary media, such as images, audio, video, and data streams of any specified format (such as a MIME type). The blob may contain any type of special media but must be base 64 encoded.</p>
<p>The generic XPath for Blobs is <code class="docutils literal notranslate"><span class="pre">DisplayedItem/BlobContent</span></code>. Blob children elements are <code class="docutils literal notranslate"><span class="pre">Hash</span></code>, <code class="docutils literal notranslate"><span class="pre">BlobURI</span></code>, and <code class="docutils literal notranslate"><span class="pre">BinaryMediaBase64</span></code>.</p>
</section>
<section id="codedvalue">
<h3>CodedValue<a class="headerlink" href="#codedvalue" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">CodedValue</span></code> element provides an alternate hidden metadata encoding a code, terminology, classification, keyword, or local value that may be necessary in certain use cases. It has the following children elements:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Code</span></code>: A standard code, or a local value from a custom coding system, that can be used to consistently identify, or provide a standard value for, the coded item.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeText</span></code>: The human-readable text that accompanies the assigned code and represents the code’s precise meaning (semantics) or usage.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeMatch</span></code>: Degree of match between the mapped item and the assigned code. Its <code class="docutils literal notranslate"><span class="pre">codeMatchType</span></code> attribute holds an entry from an enumerated list of match types as follows:</p>
<ul>
<li><p>Exact Code Match</p></li>
<li><p>Close Code Match</p></li>
<li><p>Code Broader Than Item</p></li>
<li><p>Code Narrower Than Item</p></li>
<li><p>Item Implements Data Element Exactly</p></li>
<li><p>Item Derived from Data Element</p></li>
<li><p>Item Related to Data Element</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeMatchComment</span></code>: Comment about the degree of match between the mapped item and the assigned code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeSystem</span></code>: The parent element whose children define the system that creates and maintains the standards for the code map. Its child element is <code class="docutils literal notranslate"><span class="pre">CodeSystemName</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeSystemName</span></code>: The name of the coding system, as recommended by the coding system curators, or as recommended by the agency that creates standards for the code map in use.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">ReleaseDate</span></code>: The day that the selected version of the coding system was released for general use by the coding system curators.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Version</span></code>: Version of the coding system; uses the version format defined by the coding system.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OID</span></code>: The ISO object identifier (OID) for the coding system, as found at the HL7 OID Registry: <a class="reference external" href="https://www.hl7.org/oid/index.cfm">HL7 OID Registry</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CodeSystemURI</span></code>: Web resource that uniquely identifies the coding system.</p></li>
</ul>
<p><img alt="Example of CodedValue" src="../_images/CodedValueExample.png" /></p>
</section>
</section>
<section id="questions">
<h2>Questions<a class="headerlink" href="#questions" title="Permalink to this heading">#</a></h2>
<p>Each QAS in the FDF XML is an XFC that can be represented in the DEF by one or more controls (widgets) by the FF software. The controls capture user response data in the DEF.  Each QAS XFC has an ID   and other metadata. DEF controls are assigned the matching XFC ID to enable data from the DEF control to be captured into the XFC XML that shares its &#64;ID. The behavior of the control is determined by the corresponding XFC metadata. There are 3 QAS types: Question-Response, Single-Select Question, and Multi-Select Question.</p>
<p>The primary visible text for all controls is found in the title attribute inside the <code class="docutils literal notranslate"><span class="pre">&lt;Question&gt;</span></code> element.</p>
<section id="question-response">
<h3>Question-Response<a class="headerlink" href="#question-response" title="Permalink to this heading">#</a></h3>
<p>The QR control represents a Question control with an adjacent area for capturing a response from the user. The QR XFC does not have an answer list (a List of ListItems).</p>
<p>A QR response may be validated by rules in the Response element, which determine if the inputs are in the proper format (e.g., as a text string or decimal, or rarely, following a pattern mask or a binary type).</p>
<p><strong>Observe the following points about this sample:</strong></p>
<ul>
<li><p><em>Question</em> is the only XFC that appears in this XML example. The other nested elements support the <em>Question XFC</em> with additional metadata.</p></li>
<li><p>All XFC elements (<em>Question</em> in this case) must have an <strong>ID</strong> that is unique within the FDF. This uniqueness is enforced by the XML Schema. Uniqueness of IDs must be confirmed by SDC-compliant software. Since XFCs can be repeated in DEF implementation, uniqueness enforcement is an important task in SDC software implementations.</p></li>
<li><p>The text to display in the DEF is in the <em>title content</em>.</p></li>
<li><p><strong>Responses</strong> are captured in a <code class="docutils literal notranslate"><span class="pre">ResponseField</span> <span class="pre">/</span> <span class="pre">Response</span> <span class="pre">/</span> <span class="pre">(datatype)</span></code> structure, where <code class="docutils literal notranslate"><span class="pre">(datatype)</span></code> is an SDC element corresponding to one of the SDC datatypes.</p>
<ul>
<li><p>Responses must contain an SDC datatype element (<em>string</em> in this case).</p></li>
<li><p>User-entered responses are captured in the <code class="docutils literal notranslate"><span class="pre">val</span></code> attribute of the <code class="docutils literal notranslate"><span class="pre">(datatype)</span></code> element, like this:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;string</span><span class="w"> </span><span class="na">maxLength=</span><span class="s">&quot;4000&quot;</span><span class="w"> </span><span class="na">minLength=</span><span class="s">&quot;0&quot;</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;This is my comment&quot;</span><span class="w"> </span><span class="nt">/&gt;</span>
</pre></div>
</div>
<p>The example below offers a complete example of a <code class="docutils literal notranslate"><span class="pre">&lt;Question&gt;</span></code> element.</p>
</li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;40273.100004300&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Comment(s)&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">string</span> <span class="n">maxLength</span><span class="o">=</span><span class="s2">&quot;4000&quot;</span> <span class="n">minLength</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="repsponse-field">
<h3>Repsponse Field<a class="headerlink" href="#repsponse-field" title="Permalink to this heading">#</a></h3>
<p>As mentioned in the Question-Response section, the response field is designed to take user input of some kind with the as specified datatypes. SDC supports W3C datatypes and also supports XML and HTML datatypes for user responses. Example datatypes can include strings, integers, decimals, and dates.</p>
<ul class="simple">
<li><p>All <code class="docutils literal notranslate"><span class="pre">datatype</span></code> elements names use lower camel case, unlike all other elements in the SDC Schema. This is done to conform with the W3C representation of the datatypes in XML Schema documents. One notable exception because of it’s importance is <code class="docutils literal notranslate"><span class="pre">&#64;ID</span></code></p></li>
<li><p>All datatypes are defined and modeled after the W3C datatypes and include all of the W3C datatype metadata attributes.</p></li>
<li><p>All metadata attributes have a type appropriate for the element and the metadata. For example, <code class="docutils literal notranslate"><span class="pre">maxLength</span></code> has an XML Schema datatype of <code class="docutils literal notranslate"><span class="pre">xs:long</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">val</span></code> attribute validates the datatype of its element tag. Entering an invalid datatype in this attribute will generate a validation error when validated with the SDCFormDesign Schema.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">val</span></code> cannot be Schema-validated against the element’s other datatype metadata (for <code class="docutils literal notranslate"><span class="pre">string</span></code>, in this case, <code class="docutils literal notranslate"><span class="pre">maxLength</span></code>, <code class="docutils literal notranslate"><span class="pre">minLength</span></code>, <code class="docutils literal notranslate"><span class="pre">mask</span></code>, <code class="docutils literal notranslate"><span class="pre">pattern</span></code>), so that further validation of <code class="docutils literal notranslate"><span class="pre">val</span></code> content must use additional methods such as Schematron.</p></li>
</ul>
<p>Here is another example that shows how numeric QR structures may appear with:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QR1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Specify Percentage of QR quarks (see Note A)&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">integer</span> <span class="n">maxInclusive</span><span class="o">=</span><span class="s2">&quot;100&quot;</span> <span class="n">minInclusive</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">TextAfterResponse</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;%&quot;</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">ResponseUnits</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;%&quot;</span> <span class="n">unitSystem</span><span class="o">=</span><span class="s2">&quot;UCUM&quot;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>The example above uses an <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> datatype to specify and record the user-entered value.</p>
</section>
<section id="capturing-user-responses-in-questions">
<h3>Capturing User Responses in Questions<a class="headerlink" href="#capturing-user-responses-in-questions" title="Permalink to this heading">#</a></h3>
<p>A response may be captured in a <code class="docutils literal notranslate"><span class="pre">&#64;val</span></code> attribute within the <code class="docutils literal notranslate"><span class="pre">&lt;Response&gt;</span></code> element’s datatype child element.</p>
<ul class="simple">
<li><p>When the user enters a response into the DEF, the <code class="docutils literal notranslate"><span class="pre">&lt;integer&gt;</span></code> element will be populated with <code class="docutils literal notranslate"><span class="pre">val</span></code> and look like this:</p></li>
</ul>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nt">&lt;integer</span><span class="w"> </span><span class="na">maxInclusive=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">minInclusive=</span><span class="s">&quot;1&quot;</span><span class="w"> </span><span class="na">val=</span><span class="s">&quot;My user response&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The displayed datatype validation metadata are specific for the <code class="docutils literal notranslate"><span class="pre">integer</span></code> datatype (<code class="docutils literal notranslate"><span class="pre">maxInclusive</span></code>, <code class="docutils literal notranslate"><span class="pre">minInclusive</span></code>).</p></li>
<li><p>Other attributes are available for numeric response datatypes, including: <code class="docutils literal notranslate"><span class="pre">quantEnum</span></code>, <code class="docutils literal notranslate"><span class="pre">maxExclusive</span></code>, <code class="docutils literal notranslate"><span class="pre">minExclusive</span></code>, <code class="docutils literal notranslate"><span class="pre">totalDigits</span></code>, <code class="docutils literal notranslate"><span class="pre">mask</span></code>, <code class="docutils literal notranslate"><span class="pre">allowGT</span></code>, <code class="docutils literal notranslate"><span class="pre">allowGTE</span></code>, <code class="docutils literal notranslate"><span class="pre">allowLT</span></code>, <code class="docutils literal notranslate"><span class="pre">allowLTE</span></code>, and <code class="docutils literal notranslate"><span class="pre">allowAPPROX</span></code>. For decimals and float, <code class="docutils literal notranslate"><span class="pre">fractionDigits</span></code> is also available.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">TextAfterResponse</span></code> element provides a place to specify static text that should appear after the user’s response in the DEF and the report. The <code class="docutils literal notranslate"><span class="pre">val</span></code> content holds the text for display.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ResponseUnits</span></code> element provides a place to record the units relevant to the response. The <code class="docutils literal notranslate"><span class="pre">val</span></code> attribute holds the text (“%”) of the units for the user’s response. This is provided by the FDF designer, not the DEF-user. The <code class="docutils literal notranslate"><span class="pre">ResponseUnits</span></code> is “hard-coded” into the FDF and is not changeable via the DEF. The <code class="docutils literal notranslate"><span class="pre">unitSystem</span></code> attribute defaults to “UCUM” (Unified Code for Units of Measure) and is not usually displayed in the DEF or report.</p></li>
</ul>
<p>Below is a more complete example of a typical Question Response with a string that has a <code class="docutils literal notranslate"><span class="pre">&#64;val</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>         <span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;q2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;My Question&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ResponseField</span><span class="o">&gt;</span>
               <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="n">string</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;My string value&quot;</span><span class="o">/&gt;</span>
               <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ResponseField</span><span class="o">&gt;</span>
         <span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>The same applies to ListItemResponses and other Response type questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>         &lt;Question ID=&quot;q1&quot; title=&quot;Question-1&quot;&gt;
            &lt;ListField&gt;
               &lt;List&gt;
                  &lt;ListItem ID=&quot;341&quot; title=&#39;ListItem-1&#39; selected=&quot;true&quot;&gt;
                     &lt;ListItemResponseField responseRequired=&quot;true&quot;&gt;
                        &lt;Response&gt;
                           &lt;string val=&quot;My string response&quot; /&gt;
                        &lt;/Response&gt;
                     &lt;/ListItemResponseField&gt;
                  &lt;/ListItem&gt;
                  …
               &lt;/List&gt;
            &lt;/ListField&gt; 
         &lt;/Question&gt;
</pre></div>
</div>
</div>
</div>
<p>It is possible that an answer may be pre-filled by text in the <code class="docutils literal notranslate"><span class="pre">&#64;val</span></code> attribute.</p>
</section>
</section>
<section id="single-select-questions">
<h2>Single Select Questions<a class="headerlink" href="#single-select-questions" title="Permalink to this heading">#</a></h2>
<p>A QS control displays a Question that subsumes a List of ListItem controls. The List is set to single-select in the XFC metadata and in the DEF control. The QS control is often rendered as a Question title area along with option/radio buttons for the LIs, or as a combo-box with dropdown answer choices, from which only one answer may be selected. In the XFC, the QS ListField element has maxSelections=”1” which is the default value for this attribute; if maxSelections does not appear in the ListField (as in the example below), then the Question is treated as a QS.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QS1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select your favorite color for QS&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span>--<span class="w"> </span>ListField<span class="w"> </span><span class="nv">maxSelections</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="w"> </span>is<span class="w"> </span>not<span class="w"> </span>shown<span class="w"> </span>since<span class="w"> </span>it<span class="w"> </span>is<span class="w"> </span>the<span class="w"> </span>default<span class="w"> </span>value--&gt;
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Baseball&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zebra&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Snort&quot;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI4&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zinger&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI5&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Enter another color&quot;</span> <span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<section id="listitemresponsefield">
<h3>ListItemResponseField<a class="headerlink" href="#listitemresponsefield" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&lt;ListItemResponseField&gt;</span></code> is used when a list requires an “Other (Specify):” style question that requires user input outside of the items displayed in the list. It can contain the same datatypes as the <code class="docutils literal notranslate"><span class="pre">&lt;ResponseField&gt;</span></code> element. Both contain the <code class="docutils literal notranslate"><span class="pre">&lt;Response&gt;</span></code> element which contains the element that defines the datatype for answer (e.g. <code class="docutils literal notranslate"><span class="pre">&lt;string&gt;</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QS1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select your favorite color for QS&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span> 
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Baseball&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zebra&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Snort&quot;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI4&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zinger&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI5&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Enter another color&quot;</span> <span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;{no text}&quot;</span><span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="n">ListItemResponseField</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">string</span> <span class="n">maxLength</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ListItemResponseField</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ListItem</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>In this XML snippet, the ListItemResponseField element is associated with the ListItem labeled “Enter another color”. This specific ListItemResponseField serves the purpose of capturing user responses when the user selects this particular option when the listed options cannot be used.</p>
</section>
<section id="indicating-an-answer-is-selected">
<h3>Indicating an Answer is Selected<a class="headerlink" href="#indicating-an-answer-is-selected" title="Permalink to this heading">#</a></h3>
<p>An answer to a ListItem is captured directly into the FDF Response element in the <code class="docutils literal notranslate"><span class="pre">&#64;selected=true</span></code> attribute:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>         <span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;q1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Question-1&quot;</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
               <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;341&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;ListItem-1&#39;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
                  <span class="o">&lt;!</span>--selected<span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>ListItem<span class="w"> </span>selected<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>user--&gt;
               <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span> 
         <span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<p>It is possible that a question may have a pre-selected answer indicated by <code class="docutils literal notranslate"><span class="pre">&#64;selected=true</span></code></p>
</section>
</section>
<section id="multi-select-questions">
<h2>Multi-select Questions<a class="headerlink" href="#multi-select-questions" title="Permalink to this heading">#</a></h2>
<p>A QM control also displays a Question that subsumes a List of ListItems. This ListField element that subsumes the List  element is set to multi-select by setting maxSelections to 0 (no limit on number of selections), or to a value greater than 1 (if there is a limit to the number of selections allowed). The control is often rendered with checkboxes for LIs, from which more than one ListItem may be selected. These checkboxes may be part of a combo-box/dropdown control as well.</p>
<p>As described in Single Select Questions, there are 2 ListItem types.</p>
<ul class="simple">
<li><p>An LI control that displays a simple ListItem, as described above</p></li>
<li><p>An LIR control displays a ListItem with an associated visible Response field to capture the user’s fill-in response, similar to a QR.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span>--maxSelections<span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="w"> </span>means<span class="w"> </span>that<span class="w"> </span>this<span class="w"> </span>element<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>multi-select<span class="w"> </span>question--&gt;
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
<section id="maxselections">
<h3>maxSelections<a class="headerlink" href="#maxselections" title="Permalink to this heading">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&#64;maxSelections</span></code> can be set to any number to indicate the maximum number of choices for that list. The default is “1” indicating a single select question, however if <code class="docutils literal notranslate"><span class="pre">&#64;maxSelections</span></code> is set to say 2, and there are 3 question options then the user may select 2 of 3 ListItems.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span>--maxSelections<span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="w"> </span>means<span class="w"> </span>that<span class="w"> </span>the<span class="w"> </span>user<span class="w"> </span>of<span class="w"> </span>this<span class="w"> </span>form<span class="w"> </span>should<span class="w"> </span>be<span class="w"> </span>able<span class="w"> </span>to<span class="w"> </span>pick<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">2</span><span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span><span class="m">3</span><span class="w"> </span>ListItems--&gt;
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="mincard">
<h2>minCard<a class="headerlink" href="#mincard" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">&#64;minCard</span></code> is the minimum number of repetitions allowed for a section or question. The default value is 1, indicating that the user must answer any question(s) that has this attribute set. If <code class="docutils literal notranslate"><span class="pre">&#64;minCard</span></code> is set to 0, then the item and all descendent questions are optional to answer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;!</span>--minCard<span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="w"> </span>indicates<span class="w"> </span>that<span class="w"> </span>this<span class="w"> </span>question<span class="w"> </span>is<span class="w"> </span>optional--&gt;
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="read-only-question">
<h2>Read Only Question<a class="headerlink" href="#read-only-question" title="Permalink to this heading">#</a></h2>
<p>The question below is a special kind of read only question that is displayed to the user, but they cannot fill it in. It is informational in nature only.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Q_2118&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;21&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;2118.100004300&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">readOnly</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;p_altTxt_2118_1&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;22&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;altText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;Tumor Site&quot;</span> <span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;lf_2118_2&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;23&quot;</span><span class="o">&gt;</span>
       <span class="o">&lt;</span><span class="n">List</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;lst_2118_3&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;24&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;LI_2119&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;25&quot;</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;2119.100004300&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Adrenal gland&quot;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
         <span class="o">&lt;</span><span class="n">Property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;p_rptTxt_2119_1&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s2">&quot;26&quot;</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;{no text}&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">ListItem</span><span class="o">&gt;</span>
       <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
      <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
     <span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="must-implement">
<h2>Must Implement<a class="headerlink" href="#must-implement" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mustImplement</span></code> attribute may be found on any XFC.  By default, a QAS must generally be implemented on a form, so that users can capture a response in that control.  If <code class="docutils literal notranslate"><span class="pre">mustImplement</span> <span class="pre">=</span> <span class="pre">“true”</span></code> (the default) or missing in the XML, then the XFC must be implemented in the form.<br />
However, if <code class="docutils literal notranslate"><span class="pre">mustImplement</span> <span class="pre">=</span> <span class="pre">“false”</span></code>, then the XFC need not be implemented as a control in the DEF.</p>
<section id="optional-list-items">
<h3>Optional List Items<a class="headerlink" href="#optional-list-items" title="Permalink to this heading">#</a></h3>
<p>In rare cases, individual <code class="docutils literal notranslate"><span class="pre">ListItems</span></code> to a required Question can be optional to implement.  For all optional <code class="docutils literal notranslate"><span class="pre">ListItems</span></code>, the value of mustImplement is “false” on the SDC <code class="docutils literal notranslate"><span class="pre">ListItem</span></code> element. In some cases, a plus sign (+) may be used in the ListItem’s title value in the SDC XML, and the “+” may also appear in the DEF.</p>
</section>
</section>
<section id="required-responses">
<h2>Required Responses<a class="headerlink" href="#required-responses" title="Permalink to this heading">#</a></h2>
<p>The appearance of a control in a DEF does not imply that it must receive a response from the user.  Additional attributes are used to indicate that a response must be captured as a selected LI or as a fill-in response:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minCard</span></code> &gt;0 for a Question means that the Question must receive a response.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">responseRequired=”true”</span></code> for an LIR’s <code class="docutils literal notranslate"><span class="pre">ListItemResponseField</span></code> element means that a valid value must be entered in the ListItemResponseField</p></li>
</ul>
<p>As indicated in the figure below, the attributes that indicate optional responses are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">minCard</span> <span class="pre">=</span> <span class="pre">“0”</span></code> for a Question</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">responseRequired</span></code> is false (or missing) for an LIR’s <code class="docutils literal notranslate"><span class="pre">ListItemResponseField</span></code> element</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QS1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Select your favorite color for QS&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span> 
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Baseball&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zebra&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Snort&quot;</span> <span class="n">selected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI4&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Zinger&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI5&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Enter another color&quot;</span> <span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">Property</span> <span class="n">propName</span><span class="o">=</span><span class="s2">&quot;reportText&quot;</span> <span class="n">val</span><span class="o">=</span><span class="s2">&quot;{no text}&quot;</span><span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="n">ListItemResponseField</span> <span class="n">responseRequired</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">&gt;</span>
                <span class="o">&lt;!</span>--@responseRequired<span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="w"> </span>indicaes<span class="w"> </span>that<span class="w"> </span><span class="k">if</span><span class="w"> </span>the<span class="w"> </span>parent<span class="w"> </span>ListItem<span class="w"> </span>is<span class="w"> </span>selected<span class="w"> </span><span class="k">then</span><span class="w"> </span>the<span class="w"> </span>ListItemResponseField<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>filled<span class="w"> </span>out<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span>user--&gt;
                    <span class="o">&lt;</span><span class="n">Response</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">string</span> <span class="n">maxLength</span><span class="o">=</span><span class="s2">&quot;30&quot;</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;/</span><span class="n">Response</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">ListItemResponseField</span><span class="o">&gt;</span>
            <span class="o">&lt;/</span><span class="n">ListItem</span><span class="o">&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="invisible-questions">
<h2>Invisible Questions<a class="headerlink" href="#invisible-questions" title="Permalink to this heading">#</a></h2>
<p>Missing title values in a Question results in the creation of “invisible Questions,” where ListItems are visible, but the parent Question text is not. Blank title text is used to unclutter the DEF when the meaning of “sub-answers” is obvious from the context, and Questions title text would be distracting.  However, several some implementers have requested that the FDF suggest alternative text that reflects what the Question text could be, if it were displayed in the DEF. Therefore, the FDF files supply can these inferred terms as a Property with propName = “altText” for invisible Questions.  However, the altText Property values may have a deleterious effect when the DEF authors have decided that Questions title text is best omitted.  Importantly, altText Property values are not necessarily appropriate for use in synoptic report output.  In general, reportText Property values should be used to customize report output.</p>
<p>In some cases, the <code class="docutils literal notranslate"><span class="pre">altText</span></code> Property value merely replicates the title value from the parent Question, because the parent Question text continues to be appropriate for the child ListItems.</p>
<p>In this case, the altText Property value for the Invisible Child Question may be assigned the same text value as the parent Question (<code class="docutils literal notranslate"><span class="pre">val</span> <span class="pre">=</span> <span class="pre">“Primary</span> <span class="pre">Tumor</span> <span class="pre">Site”</span></code>), or it may be assigned a more specific descriptive value, such as “Small Bowel Site.”  As a general guide, alt-text from invisible Questions should be suppressed whenever it merely duplicates the parent Question, as in the above example.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">altText</span></code> Property values should be created in a terse manner consistent with the original Question semantics. However, this is not possible in some cases, especially when terse wording can result in ambiguous terms.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">altText</span></code> Property value for the invisible Questions can be found as a Property under the invisible Question. Implementers should check with their end-users to determine whether they wish to use the supplied altText Property value, substitute their own appropriate text, or suppress the DEF Question text entirely.</p>
<p>We recommend that <code class="docutils literal notranslate"><span class="pre">altText</span></code> Property values be used only for internal purposes (e.g., as a guide to the visual identification of Questions in database queries) and not be displayed as visible text in the DEF unless approved by the end-users.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span><span class="o">&gt;</span>
<span class="o">&lt;!</span>--no<span class="w"> </span>@title<span class="w"> </span>attribute<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>Question,<span class="w"> </span>indicating<span class="w"> </span>that<span class="w"> </span>this<span class="w"> </span>is<span class="w"> </span>an<span class="w"> </span>invisible<span class="w"> </span>question--&gt;
    <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
    <span class="o">&lt;!</span>--no<span class="w"> </span>ListItems<span class="w"> </span>are<span class="w"> </span>still<span class="w"> </span>displayed<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>user--&gt;
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="conditionally-required-cr-behaviors-and-reporting-from-the-def">
<h2>Conditionally Required (CR) Behaviors and Reporting from the DEF<a class="headerlink" href="#conditionally-required-cr-behaviors-and-reporting-from-the-def" title="Permalink to this heading">#</a></h2>
<p>All XFCs that have <code class="docutils literal notranslate"><span class="pre">mustImplement</span> <span class="pre">=</span> <span class="pre">“true”</span></code> must appear in DEF so that users may complete them.  However, the responses from some of these “mustImp” XFCs should be omitted from reports under specific circumstances.</p>
<p>Answering and/or reporting the contents of Sections or Questions may be required (e.g., for accreditation) only under certain conditions, and these are called conditionally-required (CR) items.</p>
<p>SDC Implementers should use the FDF metadata to determine the presence of CR items, as described below in more detail.  Implementers should choose an appropriate visual method to flag the required, CR and optional Questions displayed in a DEF.</p>
<section id="cap-ecp-note">
<h3>CAP eCP Note<a class="headerlink" href="#cap-ecp-note" title="Permalink to this heading">#</a></h3>
<p>Currently, some CR Questions in a CCP may have a “+” prefix indicating optional status, but the use of “+” is not completely consistent across CR items in all CCPs. Nevertheless, all eCP CR items must appear in the DEF. Appropriate omissions of CR items from the pathology report are compliant with CAP and CoC accreditation standards.</p>
</section>
</section>
<section id="use-of-the-prefix-display-model">
<h2>Use of the “?” Prefix Display Model<a class="headerlink" href="#use-of-the-prefix-display-model" title="Permalink to this heading">#</a></h2>
<p>In one DEF convention, the title values of CR Items are prefixed in the DEF with the “?” symbol in the FDF, so that an end-user may recognize when and how an item will be conditionally omitted from the report. Use of the “?” symbol in the DEF is not required, but alternate visual cues should be approved by the end-users.  In the “?” display model, all CR Questions have a “?” prefix. The type of CR is determined based on the presence of a “?” prefix on ListItem title values, as described below.  “?” prefixes should never be displayed in SDC reports. When “?” is used, a reportText Property with the corrected report text should be provided in the FDF metadata for each affected XFC.</p>
<p>The two basic types of CR items (OWU and OWS) are described next.</p>
</section>
<section id="omit-when-unanswered-owu">
<h2>Omit When Unanswered (OWU)<a class="headerlink" href="#omit-when-unanswered-owu" title="Permalink to this heading">#</a></h2>
<p>Some Questions (or a Section or DisplayedItem preceding them) contain conditional words like “required only if,” “if known,” or similar language or intent. The ability to answer these conditional Questions depends on the responses to other Questions, and/or on information not explicitly present in DEF.  The XFC Question metadata to describe OWU consists of: <code class="docutils literal notranslate"><span class="pre">mustImplement</span> <span class="pre">=</span> <span class="pre">“true”</span></code> and <code class="docutils literal notranslate"><span class="pre">minCard</span> <span class="pre">=</span> <span class="pre">”0”</span></code>. This means that an OWU Question must be displayed on the DEF, and it must be answered if it is applicable according to the specified condition (e.g., “if known”). However, this is a judgment that can only be made by the DEF-user.  This is demonstrated on Question 2 in the above figure.</p>
<p>If the “?” CR display model is used, the CR Question has a “?” prefix, but none of the ListItems have the “?” prefix in the title attribute.</p>
<p>Unanswered CR Questions are not present in the report text, just like all unanswered Questions.</p>
</section>
<section id="omit-when-selected-ows">
<h2>Omit When Selected (OWS)<a class="headerlink" href="#omit-when-selected-ows" title="Permalink to this heading">#</a></h2>
<p>If an LI has <code class="docutils literal notranslate"><span class="pre">omitWhenSelected</span> <span class="pre">=</span> <span class="pre">“true”</span></code>, then selection of that ListItem should result in the default omission of the entire QAS (and all descendants of the Question and all contained ListItems) from the report.</p>
<p>Even when omitted from the report, OWS responses must nevertheless be validated normally by the DEF software and their responses should be saved in the eCP data store (e.g., EHR database), as with any other answered Question. Storage of the non-reported data may be needed for several purposes such as quality or medico-legal review.</p>
<p>If the “?” display model is used for OWS, the Question and all OWS-flagged ListItems have the “?” prefix in the &#64;title attribute.  The “?” on the OWS-flagged ListItem is simply a convenient visual flag for <code class="docutils literal notranslate"><span class="pre">omitWhenSelected=”true”</span></code> in the SDC XML, and it informs the DEF-user that, if the OWS ListItem is selected, the QAS will be omitted from the report.</p>
<p>The report-generator must recognize the omitWhenSelected metadata, and, by default, omit the appropriate sections from the pathology report.  The report generator must also allow users to override the OWS default behavior if desired, thereby displaying OWS Questions and ListItems in the report.</p>
<p>Unlike OWU Questions, OWS Questions must be answered, even if they are omitted from the report. Thus, unanswered OWS Questions should be flagged by the DEF validation mechanism to unobtrusively warn the user. However, not answering an OWS Question should not affect accreditation status. This is because accreditation reviewers look at reports, not at the stored answers - Thus, from the report alone, it is not always possible to tell the difference between an unanswered OWS Question, and one that was answered but properly omitted from the report. The limitations of OWS are recognized by the DEF authors, but this validation and reporting technique is an intentional approach to producing less verbose reports.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="n">omitWhenSelected</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;!</span>--If<span class="w"> </span>ListIem<span class="w"> </span>LI1<span class="w"> </span>is<span class="w"> </span>selected<span class="w"> </span>this<span class="w"> </span>question<span class="w"> </span>must<span class="w"> </span>not<span class="w"> </span>show<span class="w"> </span>up<span class="w"> </span>on<span class="w"> </span>the<span class="w"> </span>final<span class="w"> </span>report<span class="w"> </span>generated<span class="w"> </span>from<span class="w"> </span>the<span class="w"> </span>FDF--&gt;
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="contiguity-of-listitem-lists">
<h2>Contiguity of ListItem Lists<a class="headerlink" href="#contiguity-of-listitem-lists" title="Permalink to this heading">#</a></h2>
<p>The answer list resides inside the <code class="docutils literal notranslate"><span class="pre">Question\ListField\List</span> <span class="pre">element</span></code> tags.  Within a set of ListItems (the answer list, inside the <code class="docutils literal notranslate"><span class="pre">ListField\List</span></code> element tags), no Section, Question, ButtonAction or InjectForm may appear. However, these items may appear after the Question element is closed, or nested under any ListItem. In contrast, a “List Note” is a DisplayedItem XFC that can appear inside a <code class="docutils literal notranslate"><span class="pre">ListField\List</span></code>, in any position.</p>
<p>The following example shows the List element tag which wraps the answer list for a Question. The List tag contains two ListItems and one DisplayedItem. The Section and Question elements are inside List and are thus illegal in the SDC XML.  If Section and/or Question appeared immediately after the closing </Question> tag, they would be legal according to the element hierarchy established in the SDC Schema.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;!</span>--Example<span class="w"> </span>of<span class="w"> </span>SDC<span class="w"> </span>illegal<span class="w"> </span>Question<span class="w"> </span>hierarchy--&gt;
<span class="o">&lt;</span><span class="n">Question</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">ListItem</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">Section</span><span class="o">/&gt;</span>
        <span class="o">&lt;!</span>--Section<span class="w"> </span>cannot<span class="w"> </span>be<span class="w"> </span>child<span class="w"> </span>of<span class="w"> </span>a<span class="w"> </span>ListItem--&gt;
        <span class="o">&lt;</span><span class="n">DisplayedItem</span><span class="o">/&gt;</span>  
        <span class="o">&lt;!</span>--This<span class="w"> </span>is<span class="w"> </span>a<span class="w"> </span>legal<span class="w"> </span>“List<span class="w"> </span>Note”--&gt;<span class="w"> </span>
        <span class="o">&lt;</span><span class="n">ListItem</span><span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="n">ListItem</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="null-checkbox">
<h2>Null Checkbox<a class="headerlink" href="#null-checkbox" title="Permalink to this heading">#</a></h2>
<p>The SDC model intentionally does not support the concept of a 3-state (true, false, null) or “nullable” checkbox as a ListItem control, since all ListItems/checkboxes must represent a value of true (selected) or false (unselected). Questions that require an explicit Unanswered (Null) choice (as distinct from false) should preferably be reformulated as a Single-Select (i.e., combo box) type of Question, with mutually exclusive choices such as Present/Absent/Unknown/Cannot be Determined.</p>
</section>
<section id="single-checkbox">
<h2>Single Checkbox<a class="headerlink" href="#single-checkbox" title="Permalink to this heading">#</a></h2>
<p>By SDC modelling convention, any Question with a single ListItem must be a QM. This is because a QM is typically implemented with checkboxes that can be readily deselected to undo a previous ListItem selection. On the other hand, a QS is usually implemented as a combo box or option button paradigm, and these paradigms do not typically support deselecting ListItems. As described earlier, the QM status is set on the parent Question, setting <code class="docutils literal notranslate"><span class="pre">&#64;maxSelections</span> <span class="pre">=</span> <span class="pre">“0”</span></code>.</p>
<p>In many cases, a QM with a single checkbox will be required to answer (i.e., &#64;minCard &gt;0). When validating template data for required Questions, this type of Question must be scored as “answered” even when the checkbox (2 in the example above) is not selected, since unselected (unchecked) is a valid answer choice for a single check box.
<img alt="An Example of a Single Checkbox" src="Schema/Schema/SDCschema_SingleCheckbox.png" /></p>
<p>By SDC modelling convention, any Question with a single ListItem must be a QM. This is because a QM is typically implemented with checkboxes that can be readily deselected to undo a previous ListItem selection.  On the other hand, a QS is usually implemented as a combo box or option button paradigm, and these paradigms do not typically support deselecting ListItems. As described earlier, the QM status is set on the parent Question, setting <code class="docutils literal notranslate"><span class="pre">&#64;maxSelections</span> <span class="pre">=</span> <span class="pre">“0”</span></code>.</p>
<p>In many cases, a QM with a single checkbox will be required to answer (i.e., &#64;minCard &gt;0). When validating template data for required Questions, this type of Question must be scored as “answered” even when the checkbox (2 in the example above) is not selected, since unselected (unchecked) is a valid answer choice for a single check box.</p>
<section id="reporting-from-a-single-checkbox">
<h3>Reporting from a Single Checkbox<a class="headerlink" href="#reporting-from-a-single-checkbox" title="Permalink to this heading">#</a></h3>
<p>If the single checkbox (2) is not selected (checked), then neither the Question (1) nor the unchecked ListItem (2) should appear in the report.  In normal cases, all Q1 descendants (3) would also be omitted from the report.  This behavior (omission from the report) is expected, e.g., by form designers and accreditation agencies.  However, the activation and reporting of the sub-Question (3) also depends on the <code class="docutils literal notranslate"><span class="pre">selectionDisablesChildren</span></code> (SDAC) attribute on ListItem (2), which will be described later in detail.</p>
</section>
</section>
<section id="locked-qas">
<h2>Locked QAS<a class="headerlink" href="#locked-qas" title="Permalink to this heading">#</a></h2>
<p>Occasionally, a QAS may need to be locked, disallowing any editing of its ListItems or response values by the end user.  This technique is used in conjunction with the provision of default values, such as selected = ”true” on LIs, or default responses inside a QR ResponseField or the <code class="docutils literal notranslate"><span class="pre">ListItemResponseField</span></code> on a LI. The locked status is expressed by setting the Question’s  readOnly value to “true”. A locked QAS block is often included in an FDF, e.g., to represent a body structure or specimen that is always present, by definition, for a particular type of template. These items are included in the FDF to facilitate searching of the stored data.<br />
The locked, non-editable, information may be optionally displayed on the DEF, but end-users frequently prefer that locked items are hidden. If it is displayed, it should not be represented in the form of a selectable control (e.g., combo box).  To facilitate a consistent approach to querying on common data elements, the locked information should be stored in the SDC data store (e.g., database), along with the other Question/Answer pairs.</p>
<p>Most locked Questions will have the value of <code class="docutils literal notranslate"><span class="pre">mustImplement</span> <span class="pre">=</span> <span class="pre">true</span></code>, but with minCard=0 and a reportText Property value of “{No text}”. In the following example, title value is empty, and the altText Property value contains the hidden Question text.  This approach is used because in general, locked items are not intended to appear in the DEF or report. In rare cases, a locked element may be an essential piece of information that MUST display in the report. In these circumstances, the associated metadata will dictate the desired use and output. Form designers may also use custom Properties to embed required information into FDFs.</p>
</section>
<section id="flavours-of-unanswerable">
<h2>Flavours of Unanswerable<a class="headerlink" href="#flavours-of-unanswerable" title="Permalink to this heading">#</a></h2>
<p>A special group of ListItems are useful when a Question cannot be definitively answered. Since these are similar to the well-known HL7 “Flavors of Null,” they are called “Flavors of Unanswerable” (FOU). Some FOU ListItems are represented as an LIR, allowing the user to type in a more detailed explanation of why the Question cannot be answered. The LIR responses for these are almost always optional (<code class="docutils literal notranslate"><span class="pre">responseRequired</span> <span class="pre">=</span> <span class="pre">“false”</span></code>). A sample list of FOU ListItems follows:</p>
<ul class="simple">
<li><p>Cannot be assessed</p></li>
<li><p>Cannot be determined</p></li>
<li><p>Cannot be evaluated</p></li>
<li><p>Indeterminate (this term, while still used rarely, has been deprecated from clinical forms because its meaning has been interpreted inconsistently as either “Cannot be determined” or “Equivocal”)</p></li>
<li><p>Inconclusive</p></li>
<li><p>Not applicable</p></li>
<li><p>Not identified (used to replace more assertive terms like “Not present”)</p></li>
<li><p>Not known</p></li>
<li><p>Not specified</p></li>
<li><p>Unknown</p></li>
<li><p>Unspecified</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="rules">
<h1>Rules<a class="headerlink" href="#rules" title="Permalink to this heading">#</a></h1>
<p>Sometimes the response captured by one QAS determines whether other non-child QAS items or Sections should be activated, or the response is used in a calculation of data value(s). These types of cases can be handled by SDC Rules, which are mostly out of scope for this Primer. However, two such rules are currently in widespread use:</p>
<section id="implied-activiation">
<h2>Implied Activiation<a class="headerlink" href="#implied-activiation" title="Permalink to this heading">#</a></h2>
<p>An “activated” DEF item means that a user can interact with that item. If the active item is a Question, then the user can answer it. Thus, an active item is both visible and enabled.</p>
<p>Conversely, a deactivated item is disabled and/or invisible, so that a user cannot interact with it in the DEF. If an item is deactivated, then all its descendants are also deactivated. (The only exception is provided with <code class="docutils literal notranslate"><span class="pre">selectionDisablesChildren</span></code>, described later.)</p>
<p>A deactivated item must not be subject to answer validation, should not appear on a report, and should not be saved in a database, even if it contains a response from earlier user activity in the form. Such earlier activity in a previously-activated item is now overridden by the deactivated status of the same item.</p>
<p>The hierarchical arrangement of items in the FDF file, as reflected in the DEF, allows us to define a drill-down item activation pattern as the user interacts with DEF items. This drill-down behavior can affect the layout, workflow, validation, reporting, and data storage properties of DEFs.</p>
</section>
<section id="selection-disables-children-sdac">
<h2>Selection Disables Children (SDAC)<a class="headerlink" href="#selection-disables-children-sdac" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">selectionDisablesChildren</span></code> (SDAC) attribute generally applies to a LI on a Question with only one LI. Normally, the selection of a LI by the user will cause the first-level child controls to be activated. SDAC reverses this behavior – selection of the LI disables (deactivates) the child controls.</p>
<section id="sdac-reporting-rules">
<h3>SDAC Reporting Rules<a class="headerlink" href="#sdac-reporting-rules" title="Permalink to this heading">#</a></h3>
<p>The reporting rules for SDAC items are essentially the same as those for reporting non-SDAC items. If an SDAC ListItem is unselected, the ListItem must not appear in the report. The parent Question of the unselected SDAC ListItem is also omitted from the report, because unanswered Questions are never reported. If the SDAC ListItem is selected, the report text of the SDAC ListItem and its parent Question’s title is controlled by the title value and reportText Property value, as usual. The activated descendant items of the unselected SDAC ListItem should appear in the report according to the usual reporting rules described for each item type.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="n">selectionDisablesChildren</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
                <span class="o">&lt;!</span>--when<span class="w"> </span><span class="nv">selectionDisablesChildren</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="w"> </span>is<span class="w"> </span>present<span class="w"> </span>this<span class="w"> </span>item<span class="w"> </span>will<span class="w"> </span>all<span class="w"> </span>elements<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>&lt;ChildItems&gt;<span class="w"> </span>tag--&gt;
                <span class="o">&lt;</span><span class="n">ChildItems</span><span class="o">&gt;</span> 
                    <span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1.1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span><span class="o">&gt;</span>
                        <span class="o">&lt;</span><span class="n">ListField</span><span class="o">&gt;</span>
                            <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
                                <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1.2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span><span class="o">/&gt;</span>
                                <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1.2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span><span class="o">/&gt;</span>
                            <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
                        <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
                    <span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
                <span class="o">&lt;/</span><span class="n">Childitems</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="selection-disables-siblings-sds">
<h2>Selection Disables Siblings (SDS)<a class="headerlink" href="#selection-disables-siblings-sds" title="Permalink to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">selectionDeselectsSiblings</span></code> (SDS) attribute applies to any LI with a parent QM. If SDC is set to true on an LI, then selecting the LI will cause the DEF to de-select all selected sibling LIs and ignore any user-entered data entered in the previously-selected sibling LIs and their descendant captured responses. Deselecting the LI (the one with SDS = “true”) permits the user to manually re-select the sibling LIs, and re-enable any descendant captured responses, if present.</p>
<p><img alt="SDS Example" src="../_images/Schema_SDS.png" /></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Question</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;QM1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;This is a QM Question title&quot;</span> <span class="n">minCard</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ListField</span> <span class="n">maxSelections</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">List</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI1&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.1&quot;</span> <span class="n">selectionDisablesSiblings</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="o">/&gt;</span>
            <span class="o">&lt;!</span>--If<span class="w"> </span>the<span class="w"> </span>element<span class="w"> </span>with<span class="w"> </span><span class="nv">selectionDisablesSiblings</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="w"> </span>--&gt;
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI2&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.2&quot;</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="n">ListItem</span> <span class="n">ID</span><span class="o">=</span><span class="s2">&quot;LI3&quot;</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;ListItem.title.3&quot;</span> <span class="o">/&gt;</span>
        <span class="o">&lt;/</span><span class="n">List</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">ListField</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Question</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="repeating-sections">
<h1>Repeating Sections<a class="headerlink" href="#repeating-sections" title="Permalink to this heading">#</a></h1>
<p>Section and Question components may be repeated any number of times in a DEF. The <code class="docutils literal notranslate"><span class="pre">maxCard</span></code> attribute specifies the maximum number of allowable repeats. If <code class="docutils literal notranslate"><span class="pre">maxCard=1</span></code> (the default) or is missing in the XML, the section or Question is not repeatable. If <code class="docutils literal notranslate"><span class="pre">maxCard=0</span></code>, then the number of repeats is unlimited.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">minCard=&quot;0&quot;</span></code>, then the user is not required to capture a response(s) in the Section or Question. If <code class="docutils literal notranslate"><span class="pre">minCard=&quot;1&quot;</span></code> or greater, then the Section or Question must have its responses captured. If <code class="docutils literal notranslate"><span class="pre">minCard</span> <span class="pre">&gt;</span> <span class="pre">1</span></code>, then the Section must be repeated for the number of times in the <code class="docutils literal notranslate"><span class="pre">minCard</span></code> attribute (this pattern is rare).</p>
<p>Only one instance of a repeatable Section and Question component should appear in a DEF when it is first rendered. The user must be able to indicate when to display the next repeatable Section or Question. The Form Filler must, therefore, include a clickable component (e.g., “+” and “-” buttons) or other interactive method with which the user can instruct the Form Filler to insert (or remove) a repeated instance of the Section or Question.</p>
<p><img alt="Repeatin Sections Example" src="../_images/Schema_RepeatingSections.png" /></p>
<Question ID="QM1" title="This is a QM Question title" minCard="1" maxCard="10">
<!--This question must be repeated at least once due to the minCard="1", and can repeat up to 10 times due to the maxCard="10"-->
    <ListField>
        <List>
            <ListItem ID="LI1" title="ListItem.title.1"/>
            <ListItem ID="LI2" title="ListItem.title.2" />
            <ListItem ID="LI3" title="ListItem.title.3" />
        </List>
    </ListField>
</Question><section id="managing-repeated-xfc-and-component-ids-with-monotonically-increasing-suffixes">
<h2>Managing Repeated XFC and Component IDs with Monotonically Increasing Suffixes<a class="headerlink" href="#managing-repeated-xfc-and-component-ids-with-monotonically-increasing-suffixes" title="Permalink to this heading">#</a></h2>
<p>When a Section or Question component is repeated, there must be a way to differentiate the IDs of each repeated DEF component. This is done by adding a suffix to the ID of each repeated component/XFC and its descendant components, as illustrated in the next XML figure.</p>
<p>For each repeated component, an integer suffix (represented by “#” below) is created and appended to each ID in the entire repeated component block (i.e., the repeated component and all descendants). To manage the manipulation of ID attributes, The FF/DEF contains an integer counter function. The integer counter # starts at 0, and is increased by one every time a new repeated component block is added by the user, anywhere in the XFC/DEF. The XFC suffix begins with <strong>two</strong> underscores (__) followed by the shared counter integer (#) that identifies the repeated component block in the FDF. The __# suffix is added to every XFC in the repeated block.</p>
<Question ID="QM1" title="This is a QM Question title" minCard="1" maxCard="10">
    <ListField>
        <List>
            <ListItem ID="LI1" title="ListItem.title.1"/>
            <ListItem ID="LI2" title="ListItem.title.2" />
            <ListItem ID="LI3" title="ListItem.title.3" />
        </List>
    </ListField>
</Question>
<Question ID="QM1__1" title="This is a QM Question title" minCard="1" maxCard="10">
<!--Repeated ID attributes have "__1" the numbers would count up depending on the section-->
    <ListField>
        <List>
            <ListItem ID="LI1__1" title="ListItem.title.1"/>
            <ListItem ID="LI2__1" title="ListItem.title.2" />
            <ListItem ID="LI3__1" title="ListItem.title.3" />
        </List>
    </ListField>
</Question></section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Schema"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../GlossaryTLA.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">26.1	Terms and Abbreviations</p>
      </div>
    </a>
    <a class="right-next"
       href="../Intro%20To%20SDC/Introduction.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction to SDC</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">SDC Schema</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign">FormDesign</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-attributes">FormDesign Attributes</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#static-attributes">Static Attributes:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-attributes">Instance Attributes:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#instance-status-attributes">Instance Status Attributes</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdc-type-hiearchy">SDC Type Hiearchy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#extensionbasetype-ebt">ExtensionBaseType (EBT)</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#extension">Extension</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#comment">Comment</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#property">Property</a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-property-elements"><code class="docutils literal notranslate"><span class="pre">FormDesign\Property</span></code> Elements</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#strongly-typed-property-values-for-special-purposes">Strongly-Typed Property Values for Special Purposes</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#the-reporttext-property">The <code class="docutils literal notranslate"><span class="pre">reportText</span></code> Property</a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#other-property-types">Other Property Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifiedextensiontype-iet">IdentifiedExtensionType (IET)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#displayedtype">DisplayedType</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fdf-identifiers">FDF Identifiers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#formdesign-properties-for-cap-electronic-cancer-protocols-ecps">FormDesign Properties for CAP electronic Cancer Protocols (eCPs)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sections">Sections</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#childitems">ChildItems</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#displayeditem">DisplayedItem</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#blob">Blob</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#codedvalue">CodedValue</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#questions">Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#question-response">Question-Response</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#repsponse-field">Repsponse Field</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#capturing-user-responses-in-questions">Capturing User Responses in Questions</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#single-select-questions">Single Select Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#listitemresponsefield">ListItemResponseField</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#indicating-an-answer-is-selected">Indicating an Answer is Selected</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-select-questions">Multi-select Questions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#maxselections">maxSelections</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mincard">minCard</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#read-only-question">Read Only Question</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#must-implement">Must Implement</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-list-items">Optional List Items</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-responses">Required Responses</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#invisible-questions">Invisible Questions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conditionally-required-cr-behaviors-and-reporting-from-the-def">Conditionally Required (CR) Behaviors and Reporting from the DEF</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cap-ecp-note">CAP eCP Note</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#use-of-the-prefix-display-model">Use of the “?” Prefix Display Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omit-when-unanswered-owu">Omit When Unanswered (OWU)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#omit-when-selected-ows">Omit When Selected (OWS)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contiguity-of-listitem-lists">Contiguity of ListItem Lists</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#null-checkbox">Null Checkbox</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#single-checkbox">Single Checkbox</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-from-a-single-checkbox">Reporting from a Single Checkbox</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#locked-qas">Locked QAS</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#flavours-of-unanswerable">Flavours of Unanswerable</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#rules">Rules</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#implied-activiation">Implied Activiation</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#selection-disables-children-sdac">Selection Disables Children (SDAC)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sdac-reporting-rules">SDAC Reporting Rules</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#selection-disables-siblings-sds">Selection Disables Siblings (SDS)</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#repeating-sections">Repeating Sections</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#managing-repeated-xfc-and-component-ids-with-monotonically-increasing-suffixes">Managing Repeated XFC and Component IDs with Monotonically Increasing Suffixes</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By IHE-SDC-WG
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>